var Qs = Object.defineProperty;
var Zs = (n, e, t) => e in n ? Qs(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t;
var xe = (n, e, t) => (Zs(n, typeof e != "symbol" ? e + "" : e, t), t);
import qe, { createContext as zr, useContext as ee, useEffect as Ge, useLayoutEffect as ei, useRef as Be, useMemo as Kr, useCallback as $, useDebugValue as ti, useState as P } from "react";
var B = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, zt = {}, rt = {}, ft = {}, fe = B && B.__assign || function() {
  return fe = Object.assign || function(n) {
    for (var e, t = 1, r = arguments.length; t < r; t++) {
      e = arguments[t];
      for (var s in e)
        Object.prototype.hasOwnProperty.call(e, s) && (n[s] = e[s]);
    }
    return n;
  }, fe.apply(this, arguments);
}, wt = B && B.__awaiter || function(n, e, t, r) {
  function s(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function u(h) {
      try {
        a(r.next(h));
      } catch (f) {
        o(f);
      }
    }
    function l(h) {
      try {
        a(r.throw(h));
      } catch (f) {
        o(f);
      }
    }
    function a(h) {
      h.done ? i(h.value) : s(h.value).then(u, l);
    }
    a((r = r.apply(n, e || [])).next());
  });
}, Et = B && B.__generator || function(n, e) {
  var t = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, s, i, o;
  return o = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function() {
    return this;
  }), o;
  function u(a) {
    return function(h) {
      return l([a, h]);
    };
  }
  function l(a) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (r = 1, s && (i = a[0] & 2 ? s.return : a[0] ? s.throw || ((i = s.return) && i.call(s), 0) : s.next) && !(i = i.call(s, a[1])).done)
          return i;
        switch (s = 0, i && (a = [a[0] & 2, i.value]), a[0]) {
          case 0:
          case 1:
            i = a;
            break;
          case 4:
            return t.label++, { value: a[1], done: !1 };
          case 5:
            t.label++, s = a[1], a = [0];
            continue;
          case 7:
            a = t.ops.pop(), t.trys.pop();
            continue;
          default:
            if (i = t.trys, !(i = i.length > 0 && i[i.length - 1]) && (a[0] === 6 || a[0] === 2)) {
              t = 0;
              continue;
            }
            if (a[0] === 3 && (!i || a[1] > i[0] && a[1] < i[3])) {
              t.label = a[1];
              break;
            }
            if (a[0] === 6 && t.label < i[1]) {
              t.label = i[1], i = a;
              break;
            }
            if (i && t.label < i[2]) {
              t.label = i[2], t.ops.push(a);
              break;
            }
            i[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        a = e.call(n, t);
      } catch (h) {
        a = [6, h], s = 0;
      } finally {
        r = i = 0;
      }
    if (a[0] & 5)
      throw a[1];
    return { value: a[0] ? a[1] : void 0, done: !0 };
  }
};
Object.defineProperty(ft, "__esModule", { value: !0 });
ft.FrappeCall = void 0;
var ni = function() {
  function n(e, t, r, s, i) {
    this.appURL = e, this.axios = t, this.useToken = r != null ? r : !1, this.token = s, this.tokenType = i;
  }
  return n.prototype.get = function(e, t) {
    return wt(this, void 0, void 0, function() {
      return Et(this, function(r) {
        return [2, this.axios.get("/api/method/".concat(e), { params: t }).then(function(s) {
          return s.data;
        }).catch(function(s) {
          var i, o;
          throw fe(fe({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: (i = s.response.data.message) !== null && i !== void 0 ? i : "There was an error.", exception: (o = s.response.data.exception) !== null && o !== void 0 ? o : "" });
        })];
      });
    });
  }, n.prototype.post = function(e, t) {
    return wt(this, void 0, void 0, function() {
      return Et(this, function(r) {
        return [2, this.axios.post("/api/method/".concat(e), fe({}, t)).then(function(s) {
          return s.data;
        }).catch(function(s) {
          var i, o;
          throw fe(fe({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: (i = s.response.data.message) !== null && i !== void 0 ? i : "There was an error.", exception: (o = s.response.data.exception) !== null && o !== void 0 ? o : "" });
        })];
      });
    });
  }, n.prototype.put = function(e, t) {
    return wt(this, void 0, void 0, function() {
      return Et(this, function(r) {
        return [2, this.axios.put("/api/method/".concat(e), fe({}, t)).then(function(s) {
          return s.data;
        }).catch(function(s) {
          var i, o;
          throw fe(fe({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: (i = s.response.data.message) !== null && i !== void 0 ? i : "There was an error.", exception: (o = s.response.data.exception) !== null && o !== void 0 ? o : "" });
        })];
      });
    });
  }, n.prototype.delete = function(e, t) {
    return wt(this, void 0, void 0, function() {
      return Et(this, function(r) {
        return [2, this.axios.delete("/api/method/".concat(e), { params: t }).then(function(s) {
          return s.data;
        }).catch(function(s) {
          var i, o;
          throw fe(fe({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: (i = s.response.data.message) !== null && i !== void 0 ? i : "There was an error.", exception: (o = s.response.data.exception) !== null && o !== void 0 ? o : "" });
        })];
      });
    });
  }, n;
}();
ft.FrappeCall = ni;
var ht = {}, z = B && B.__assign || function() {
  return z = Object.assign || function(n) {
    for (var e, t = 1, r = arguments.length; t < r; t++) {
      e = arguments[t];
      for (var s in e)
        Object.prototype.hasOwnProperty.call(e, s) && (n[s] = e[s]);
    }
    return n;
  }, z.apply(this, arguments);
}, Fe = B && B.__awaiter || function(n, e, t, r) {
  function s(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function u(h) {
      try {
        a(r.next(h));
      } catch (f) {
        o(f);
      }
    }
    function l(h) {
      try {
        a(r.throw(h));
      } catch (f) {
        o(f);
      }
    }
    function a(h) {
      h.done ? i(h.value) : s(h.value).then(u, l);
    }
    a((r = r.apply(n, e || [])).next());
  });
}, Ue = B && B.__generator || function(n, e) {
  var t = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, s, i, o;
  return o = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function() {
    return this;
  }), o;
  function u(a) {
    return function(h) {
      return l([a, h]);
    };
  }
  function l(a) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (r = 1, s && (i = a[0] & 2 ? s.return : a[0] ? s.throw || ((i = s.return) && i.call(s), 0) : s.next) && !(i = i.call(s, a[1])).done)
          return i;
        switch (s = 0, i && (a = [a[0] & 2, i.value]), a[0]) {
          case 0:
          case 1:
            i = a;
            break;
          case 4:
            return t.label++, { value: a[1], done: !1 };
          case 5:
            t.label++, s = a[1], a = [0];
            continue;
          case 7:
            a = t.ops.pop(), t.trys.pop();
            continue;
          default:
            if (i = t.trys, !(i = i.length > 0 && i[i.length - 1]) && (a[0] === 6 || a[0] === 2)) {
              t = 0;
              continue;
            }
            if (a[0] === 3 && (!i || a[1] > i[0] && a[1] < i[3])) {
              t.label = a[1];
              break;
            }
            if (a[0] === 6 && t.label < i[1]) {
              t.label = i[1], i = a;
              break;
            }
            if (i && t.label < i[2]) {
              t.label = i[2], t.ops.push(a);
              break;
            }
            i[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        a = e.call(n, t);
      } catch (h) {
        a = [6, h], s = 0;
      } finally {
        r = i = 0;
      }
    if (a[0] & 5)
      throw a[1];
    return { value: a[0] ? a[1] : void 0, done: !0 };
  }
};
Object.defineProperty(ht, "__esModule", { value: !0 });
ht.FrappeDB = void 0;
var ri = function() {
  function n(e, t, r, s, i) {
    this.appURL = e, this.axios = t, this.useToken = r != null ? r : !1, this.token = s, this.tokenType = i;
  }
  return n.prototype.getDoc = function(e, t) {
    return t === void 0 && (t = ""), Fe(this, void 0, void 0, function() {
      return Ue(this, function(r) {
        return [2, this.axios.get("/api/resource/".concat(e, "/").concat(t)).then(function(s) {
          return s.data.data;
        }).catch(function(s) {
          var i, o;
          throw z(z({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: "There was an error while fetching the document.", exception: (o = (i = s.response.data.exception) !== null && i !== void 0 ? i : s.response.data.exc_type) !== null && o !== void 0 ? o : "" });
        })];
      });
    });
  }, n.prototype.getDocList = function(e, t) {
    var r;
    return Fe(this, void 0, void 0, function() {
      var s, i, o, u, l, a, h, f, p, m, g;
      return Ue(this, function(b) {
        return s = {}, t && (i = t.fields, o = t.filters, u = t.orFilters, l = t.orderBy, a = t.limit, h = t.limit_start, f = t.groupBy, p = t.asDict, m = p === void 0 ? !0 : p, g = l ? "".concat(String(l == null ? void 0 : l.field), " ").concat((r = l == null ? void 0 : l.order) !== null && r !== void 0 ? r : "asc") : "", s = {
          fields: i ? JSON.stringify(i) : void 0,
          filters: o ? JSON.stringify(o) : void 0,
          or_filters: u ? JSON.stringify(u) : void 0,
          order_by: g,
          group_by: f,
          limit: a,
          limit_start: h,
          as_dict: m
        }), [2, this.axios.get("/api/resource/".concat(e), { params: s }).then(function(E) {
          return E.data.data;
        }).catch(function(E) {
          var _, S;
          throw z(z({}, E.response.data), { httpStatus: E.response.status, httpStatusText: E.response.statusText, message: "There was an error while fetching the documents.", exception: (S = (_ = E.response.data.exception) !== null && _ !== void 0 ? _ : E.response.data.exc_type) !== null && S !== void 0 ? S : "" });
        })];
      });
    });
  }, n.prototype.createDoc = function(e, t) {
    return Fe(this, void 0, void 0, function() {
      return Ue(this, function(r) {
        return [2, this.axios.post("/api/resource/".concat(e), z({}, t)).then(function(s) {
          return s.data.data;
        }).catch(function(s) {
          var i, o, u;
          throw z(z({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: (i = s.response.data.message) !== null && i !== void 0 ? i : "There was an error while creating the document.", exception: (u = (o = s.response.data.exception) !== null && o !== void 0 ? o : s.response.data.exc_type) !== null && u !== void 0 ? u : "" });
        })];
      });
    });
  }, n.prototype.updateDoc = function(e, t, r) {
    return Fe(this, void 0, void 0, function() {
      return Ue(this, function(s) {
        return [2, this.axios.put("/api/resource/".concat(e, "/").concat(t), z({}, r)).then(function(i) {
          return i.data.data;
        }).catch(function(i) {
          var o, u, l;
          throw z(z({}, i.response.data), { httpStatus: i.response.status, httpStatusText: i.response.statusText, message: (o = i.response.data.message) !== null && o !== void 0 ? o : "There was an error while updating the document.", exception: (l = (u = i.response.data.exception) !== null && u !== void 0 ? u : i.response.data.exc_type) !== null && l !== void 0 ? l : "" });
        })];
      });
    });
  }, n.prototype.deleteDoc = function(e, t) {
    return Fe(this, void 0, void 0, function() {
      return Ue(this, function(r) {
        return [2, this.axios.delete("/api/resource/".concat(e, "/").concat(t)).then(function(s) {
          return s.data;
        }).catch(function(s) {
          var i, o;
          throw z(z({}, s.response.data), { httpStatus: s.response.status, httpStatusText: s.response.statusText, message: "There was an error while deleting the document.", exception: (o = (i = s.response.data.exception) !== null && i !== void 0 ? i : s.response.data.exc_type) !== null && o !== void 0 ? o : "" });
        })];
      });
    });
  }, n.prototype.getCount = function(e, t, r, s) {
    return r === void 0 && (r = !1), s === void 0 && (s = !1), Fe(this, void 0, void 0, function() {
      var i;
      return Ue(this, function(o) {
        return i = {
          doctype: e,
          filters: []
        }, r && (i.cache = r), s && (i.debug = s), t && (i.filters = t ? JSON.stringify(t) : void 0), [2, this.axios.get("/api/method/frappe.client.get_count", { params: i }).then(function(u) {
          return u.data.message;
        }).catch(function(u) {
          var l, a;
          throw z(z({}, u.response.data), { httpStatus: u.response.status, httpStatusText: u.response.statusText, message: "There was an error while getting the count.", exception: (a = (l = u.response.data.exception) !== null && l !== void 0 ? l : u.response.data.exc_type) !== null && a !== void 0 ? a : "" });
        })];
      });
    });
  }, n.prototype.getLastDoc = function(e, t) {
    return Fe(this, void 0, void 0, function() {
      var r, s;
      return Ue(this, function(i) {
        switch (i.label) {
          case 0:
            return r = {
              orderBy: {
                field: "creation",
                order: "desc"
              }
            }, t && (r = z(z({}, r), t)), [4, this.getDocList(e, z(z({}, r), { limit: 1, fields: ["name"] }))];
          case 1:
            return s = i.sent(), s.length > 0 ? [2, this.getDoc(e, s[0].name)] : [2, {}];
        }
      });
    });
  }, n;
}();
ht.FrappeDB = ri;
var dt = {}, Ft = B && B.__assign || function() {
  return Ft = Object.assign || function(n) {
    for (var e, t = 1, r = arguments.length; t < r; t++) {
      e = arguments[t];
      for (var s in e)
        Object.prototype.hasOwnProperty.call(e, s) && (n[s] = e[s]);
    }
    return n;
  }, Ft.apply(this, arguments);
}, si = B && B.__awaiter || function(n, e, t, r) {
  function s(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function u(h) {
      try {
        a(r.next(h));
      } catch (f) {
        o(f);
      }
    }
    function l(h) {
      try {
        a(r.throw(h));
      } catch (f) {
        o(f);
      }
    }
    function a(h) {
      h.done ? i(h.value) : s(h.value).then(u, l);
    }
    a((r = r.apply(n, e || [])).next());
  });
}, ii = B && B.__generator || function(n, e) {
  var t = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, s, i, o;
  return o = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function() {
    return this;
  }), o;
  function u(a) {
    return function(h) {
      return l([a, h]);
    };
  }
  function l(a) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (r = 1, s && (i = a[0] & 2 ? s.return : a[0] ? s.throw || ((i = s.return) && i.call(s), 0) : s.next) && !(i = i.call(s, a[1])).done)
          return i;
        switch (s = 0, i && (a = [a[0] & 2, i.value]), a[0]) {
          case 0:
          case 1:
            i = a;
            break;
          case 4:
            return t.label++, { value: a[1], done: !1 };
          case 5:
            t.label++, s = a[1], a = [0];
            continue;
          case 7:
            a = t.ops.pop(), t.trys.pop();
            continue;
          default:
            if (i = t.trys, !(i = i.length > 0 && i[i.length - 1]) && (a[0] === 6 || a[0] === 2)) {
              t = 0;
              continue;
            }
            if (a[0] === 3 && (!i || a[1] > i[0] && a[1] < i[3])) {
              t.label = a[1];
              break;
            }
            if (a[0] === 6 && t.label < i[1]) {
              t.label = i[1], i = a;
              break;
            }
            if (i && t.label < i[2]) {
              t.label = i[2], t.ops.push(a);
              break;
            }
            i[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        a = e.call(n, t);
      } catch (h) {
        a = [6, h], s = 0;
      } finally {
        r = i = 0;
      }
    if (a[0] & 5)
      throw a[1];
    return { value: a[0] ? a[1] : void 0, done: !0 };
  }
};
Object.defineProperty(dt, "__esModule", { value: !0 });
dt.FrappeFileUpload = void 0;
var oi = function() {
  function n(e, t, r, s, i) {
    this.appURL = e, this.axios = t, this.useToken = r != null ? r : !1, this.token = s, this.tokenType = i;
  }
  return n.prototype.uploadFile = function(e, t, r, s) {
    return s === void 0 && (s = "upload_file"), si(this, void 0, void 0, function() {
      var i, o, u, l, a, h, f, p;
      return ii(this, function(m) {
        return i = new FormData(), e && i.append("file", e, e.name), o = t.isPrivate, u = t.folder, l = t.file_url, a = t.doctype, h = t.docname, f = t.fieldname, p = t.otherData, o && i.append("is_private", "1"), u && i.append("folder", u), l && i.append("file_url", l), a && h && (i.append("doctype", a), i.append("docname", h), f && i.append("fieldname", f)), p && Object.keys(p).forEach(function(g) {
          var b = p[g];
          i.append(g, b);
        }), [2, this.axios.post("/api/method/".concat(s), i, {
          onUploadProgress: function(g) {
            r && r(g.loaded, g.total);
          }
        }).catch(function(g) {
          var b, E;
          throw Ft(Ft({}, g.response.data), { httpStatus: g.response.status, httpStatusText: g.response.statusText, message: (b = g.response.data.message) !== null && b !== void 0 ? b : "There was an error while uploading the file.", exception: (E = g.response.data.exception) !== null && E !== void 0 ? E : "" });
        })];
      });
    });
  }, n;
}();
dt.FrappeFileUpload = oi;
var Ke = {}, Gr = { exports: {} }, Fn = { exports: {} }, Xr = function(e, t) {
  return function() {
    for (var s = new Array(arguments.length), i = 0; i < s.length; i++)
      s[i] = arguments[i];
    return e.apply(t, s);
  };
}, ai = Xr, ke = Object.prototype.toString;
function Un(n) {
  return Array.isArray(n);
}
function En(n) {
  return typeof n > "u";
}
function ui(n) {
  return n !== null && !En(n) && n.constructor !== null && !En(n.constructor) && typeof n.constructor.isBuffer == "function" && n.constructor.isBuffer(n);
}
function Qr(n) {
  return ke.call(n) === "[object ArrayBuffer]";
}
function ci(n) {
  return ke.call(n) === "[object FormData]";
}
function li(n) {
  var e;
  return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? e = ArrayBuffer.isView(n) : e = n && n.buffer && Qr(n.buffer), e;
}
function fi(n) {
  return typeof n == "string";
}
function hi(n) {
  return typeof n == "number";
}
function Zr(n) {
  return n !== null && typeof n == "object";
}
function kt(n) {
  if (ke.call(n) !== "[object Object]")
    return !1;
  var e = Object.getPrototypeOf(n);
  return e === null || e === Object.prototype;
}
function di(n) {
  return ke.call(n) === "[object Date]";
}
function pi(n) {
  return ke.call(n) === "[object File]";
}
function vi(n) {
  return ke.call(n) === "[object Blob]";
}
function es(n) {
  return ke.call(n) === "[object Function]";
}
function yi(n) {
  return Zr(n) && es(n.pipe);
}
function mi(n) {
  return ke.call(n) === "[object URLSearchParams]";
}
function gi(n) {
  return n.trim ? n.trim() : n.replace(/^\s+|\s+$/g, "");
}
function _i() {
  return typeof navigator < "u" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS") ? !1 : typeof window < "u" && typeof document < "u";
}
function qn(n, e) {
  if (!(n === null || typeof n > "u"))
    if (typeof n != "object" && (n = [n]), Un(n))
      for (var t = 0, r = n.length; t < r; t++)
        e.call(null, n[t], t, n);
    else
      for (var s in n)
        Object.prototype.hasOwnProperty.call(n, s) && e.call(null, n[s], s, n);
}
function Rn() {
  var n = {};
  function e(s, i) {
    kt(n[i]) && kt(s) ? n[i] = Rn(n[i], s) : kt(s) ? n[i] = Rn({}, s) : Un(s) ? n[i] = s.slice() : n[i] = s;
  }
  for (var t = 0, r = arguments.length; t < r; t++)
    qn(arguments[t], e);
  return n;
}
function bi(n, e, t) {
  return qn(e, function(s, i) {
    t && typeof s == "function" ? n[i] = ai(s, t) : n[i] = s;
  }), n;
}
function wi(n) {
  return n.charCodeAt(0) === 65279 && (n = n.slice(1)), n;
}
var ae = {
  isArray: Un,
  isArrayBuffer: Qr,
  isBuffer: ui,
  isFormData: ci,
  isArrayBufferView: li,
  isString: fi,
  isNumber: hi,
  isObject: Zr,
  isPlainObject: kt,
  isUndefined: En,
  isDate: di,
  isFile: pi,
  isBlob: vi,
  isFunction: es,
  isStream: yi,
  isURLSearchParams: mi,
  isStandardBrowserEnv: _i,
  forEach: qn,
  merge: Rn,
  extend: bi,
  trim: gi,
  stripBOM: wi
}, Ye = ae;
function sr(n) {
  return encodeURIComponent(n).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
var ts = function(e, t, r) {
  if (!t)
    return e;
  var s;
  if (r)
    s = r(t);
  else if (Ye.isURLSearchParams(t))
    s = t.toString();
  else {
    var i = [];
    Ye.forEach(t, function(l, a) {
      l === null || typeof l > "u" || (Ye.isArray(l) ? a = a + "[]" : l = [l], Ye.forEach(l, function(f) {
        Ye.isDate(f) ? f = f.toISOString() : Ye.isObject(f) && (f = JSON.stringify(f)), i.push(sr(a) + "=" + sr(f));
      }));
    }), s = i.join("&");
  }
  if (s) {
    var o = e.indexOf("#");
    o !== -1 && (e = e.slice(0, o)), e += (e.indexOf("?") === -1 ? "?" : "&") + s;
  }
  return e;
}, Ei = ae;
function Ut() {
  this.handlers = [];
}
Ut.prototype.use = function(e, t, r) {
  return this.handlers.push({
    fulfilled: e,
    rejected: t,
    synchronous: r ? r.synchronous : !1,
    runWhen: r ? r.runWhen : null
  }), this.handlers.length - 1;
};
Ut.prototype.eject = function(e) {
  this.handlers[e] && (this.handlers[e] = null);
};
Ut.prototype.forEach = function(e) {
  Ei.forEach(this.handlers, function(r) {
    r !== null && e(r);
  });
};
var Ri = Ut, Si = ae, Ti = function(e, t) {
  Si.forEach(e, function(s, i) {
    i !== t && i.toUpperCase() === t.toUpperCase() && (e[t] = s, delete e[i]);
  });
}, ns = function(e, t, r, s, i) {
  return e.config = t, r && (e.code = r), e.request = s, e.response = i, e.isAxiosError = !0, e.toJSON = function() {
    return {
      message: this.message,
      name: this.name,
      description: this.description,
      number: this.number,
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      config: this.config,
      code: this.code,
      status: this.response && this.response.status ? this.response.status : null
    };
  }, e;
}, rs = {
  silentJSONParsing: !0,
  forcedJSONParsing: !0,
  clarifyTimeoutError: !1
}, Kt, ir;
function ss() {
  if (ir)
    return Kt;
  ir = 1;
  var n = ns;
  return Kt = function(t, r, s, i, o) {
    var u = new Error(t);
    return n(u, r, s, i, o);
  }, Kt;
}
var Gt, or;
function Oi() {
  if (or)
    return Gt;
  or = 1;
  var n = ss();
  return Gt = function(t, r, s) {
    var i = s.config.validateStatus;
    !s.status || !i || i(s.status) ? t(s) : r(n(
      "Request failed with status code " + s.status,
      s.config,
      null,
      s.request,
      s
    ));
  }, Gt;
}
var Xt, ar;
function xi() {
  if (ar)
    return Xt;
  ar = 1;
  var n = ae;
  return Xt = n.isStandardBrowserEnv() ? function() {
    return {
      write: function(r, s, i, o, u, l) {
        var a = [];
        a.push(r + "=" + encodeURIComponent(s)), n.isNumber(i) && a.push("expires=" + new Date(i).toGMTString()), n.isString(o) && a.push("path=" + o), n.isString(u) && a.push("domain=" + u), l === !0 && a.push("secure"), document.cookie = a.join("; ");
      },
      read: function(r) {
        var s = document.cookie.match(new RegExp("(^|;\\s*)(" + r + ")=([^;]*)"));
        return s ? decodeURIComponent(s[3]) : null;
      },
      remove: function(r) {
        this.write(r, "", Date.now() - 864e5);
      }
    };
  }() : function() {
    return {
      write: function() {
      },
      read: function() {
        return null;
      },
      remove: function() {
      }
    };
  }(), Xt;
}
var Qt, ur;
function Ci() {
  return ur || (ur = 1, Qt = function(e) {
    return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);
  }), Qt;
}
var Zt, cr;
function Ai() {
  return cr || (cr = 1, Zt = function(e, t) {
    return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e;
  }), Zt;
}
var en, lr;
function Di() {
  if (lr)
    return en;
  lr = 1;
  var n = Ci(), e = Ai();
  return en = function(r, s) {
    return r && !n(s) ? e(r, s) : s;
  }, en;
}
var tn, fr;
function ki() {
  if (fr)
    return tn;
  fr = 1;
  var n = ae, e = [
    "age",
    "authorization",
    "content-length",
    "content-type",
    "etag",
    "expires",
    "from",
    "host",
    "if-modified-since",
    "if-unmodified-since",
    "last-modified",
    "location",
    "max-forwards",
    "proxy-authorization",
    "referer",
    "retry-after",
    "user-agent"
  ];
  return tn = function(r) {
    var s = {}, i, o, u;
    return r && n.forEach(r.split(`
`), function(a) {
      if (u = a.indexOf(":"), i = n.trim(a.substr(0, u)).toLowerCase(), o = n.trim(a.substr(u + 1)), i) {
        if (s[i] && e.indexOf(i) >= 0)
          return;
        i === "set-cookie" ? s[i] = (s[i] ? s[i] : []).concat([o]) : s[i] = s[i] ? s[i] + ", " + o : o;
      }
    }), s;
  }, tn;
}
var nn, hr;
function Li() {
  if (hr)
    return nn;
  hr = 1;
  var n = ae;
  return nn = n.isStandardBrowserEnv() ? function() {
    var t = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a"), s;
    function i(o) {
      var u = o;
      return t && (r.setAttribute("href", u), u = r.href), r.setAttribute("href", u), {
        href: r.href,
        protocol: r.protocol ? r.protocol.replace(/:$/, "") : "",
        host: r.host,
        search: r.search ? r.search.replace(/^\?/, "") : "",
        hash: r.hash ? r.hash.replace(/^#/, "") : "",
        hostname: r.hostname,
        port: r.port,
        pathname: r.pathname.charAt(0) === "/" ? r.pathname : "/" + r.pathname
      };
    }
    return s = i(window.location.href), function(u) {
      var l = n.isString(u) ? i(u) : u;
      return l.protocol === s.protocol && l.host === s.host;
    };
  }() : function() {
    return function() {
      return !0;
    };
  }(), nn;
}
var rn, dr;
function qt() {
  if (dr)
    return rn;
  dr = 1;
  function n(e) {
    this.message = e;
  }
  return n.prototype.toString = function() {
    return "Cancel" + (this.message ? ": " + this.message : "");
  }, n.prototype.__CANCEL__ = !0, rn = n, rn;
}
var sn, pr;
function vr() {
  if (pr)
    return sn;
  pr = 1;
  var n = ae, e = Oi(), t = xi(), r = ts, s = Di(), i = ki(), o = Li(), u = ss(), l = rs, a = qt();
  return sn = function(f) {
    return new Promise(function(m, g) {
      var b = f.data, E = f.headers, _ = f.responseType, S;
      function k() {
        f.cancelToken && f.cancelToken.unsubscribe(S), f.signal && f.signal.removeEventListener("abort", S);
      }
      n.isFormData(b) && delete E["Content-Type"];
      var y = new XMLHttpRequest();
      if (f.auth) {
        var M = f.auth.username || "", T = f.auth.password ? unescape(encodeURIComponent(f.auth.password)) : "";
        E.Authorization = "Basic " + btoa(M + ":" + T);
      }
      var V = s(f.baseURL, f.url);
      y.open(f.method.toUpperCase(), r(V, f.params, f.paramsSerializer), !0), y.timeout = f.timeout;
      function D() {
        if (!!y) {
          var L = "getAllResponseHeaders" in y ? i(y.getAllResponseHeaders()) : null, Q = !_ || _ === "text" || _ === "json" ? y.responseText : y.response, ne = {
            data: Q,
            status: y.status,
            statusText: y.statusText,
            headers: L,
            config: f,
            request: y
          };
          e(function(F) {
            m(F), k();
          }, function(F) {
            g(F), k();
          }, ne), y = null;
        }
      }
      if ("onloadend" in y ? y.onloadend = D : y.onreadystatechange = function() {
        !y || y.readyState !== 4 || y.status === 0 && !(y.responseURL && y.responseURL.indexOf("file:") === 0) || setTimeout(D);
      }, y.onabort = function() {
        !y || (g(u("Request aborted", f, "ECONNABORTED", y)), y = null);
      }, y.onerror = function() {
        g(u("Network Error", f, null, y)), y = null;
      }, y.ontimeout = function() {
        var Q = f.timeout ? "timeout of " + f.timeout + "ms exceeded" : "timeout exceeded", ne = f.transitional || l;
        f.timeoutErrorMessage && (Q = f.timeoutErrorMessage), g(u(
          Q,
          f,
          ne.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED",
          y
        )), y = null;
      }, n.isStandardBrowserEnv()) {
        var j = (f.withCredentials || o(V)) && f.xsrfCookieName ? t.read(f.xsrfCookieName) : void 0;
        j && (E[f.xsrfHeaderName] = j);
      }
      "setRequestHeader" in y && n.forEach(E, function(Q, ne) {
        typeof b > "u" && ne.toLowerCase() === "content-type" ? delete E[ne] : y.setRequestHeader(ne, Q);
      }), n.isUndefined(f.withCredentials) || (y.withCredentials = !!f.withCredentials), _ && _ !== "json" && (y.responseType = f.responseType), typeof f.onDownloadProgress == "function" && y.addEventListener("progress", f.onDownloadProgress), typeof f.onUploadProgress == "function" && y.upload && y.upload.addEventListener("progress", f.onUploadProgress), (f.cancelToken || f.signal) && (S = function(L) {
        !y || (g(!L || L && L.type ? new a("canceled") : L), y.abort(), y = null);
      }, f.cancelToken && f.cancelToken.subscribe(S), f.signal && (f.signal.aborted ? S() : f.signal.addEventListener("abort", S))), b || (b = null), y.send(b);
    });
  }, sn;
}
var Z = ae, yr = Ti, Ni = ns, Pi = rs, Bi = {
  "Content-Type": "application/x-www-form-urlencoded"
};
function mr(n, e) {
  !Z.isUndefined(n) && Z.isUndefined(n["Content-Type"]) && (n["Content-Type"] = e);
}
function Fi() {
  var n;
  return (typeof XMLHttpRequest < "u" || typeof process < "u" && Object.prototype.toString.call(process) === "[object process]") && (n = vr()), n;
}
function Ui(n, e, t) {
  if (Z.isString(n))
    try {
      return (e || JSON.parse)(n), Z.trim(n);
    } catch (r) {
      if (r.name !== "SyntaxError")
        throw r;
    }
  return (t || JSON.stringify)(n);
}
var It = {
  transitional: Pi,
  adapter: Fi(),
  transformRequest: [function(e, t) {
    return yr(t, "Accept"), yr(t, "Content-Type"), Z.isFormData(e) || Z.isArrayBuffer(e) || Z.isBuffer(e) || Z.isStream(e) || Z.isFile(e) || Z.isBlob(e) ? e : Z.isArrayBufferView(e) ? e.buffer : Z.isURLSearchParams(e) ? (mr(t, "application/x-www-form-urlencoded;charset=utf-8"), e.toString()) : Z.isObject(e) || t && t["Content-Type"] === "application/json" ? (mr(t, "application/json"), Ui(e)) : e;
  }],
  transformResponse: [function(e) {
    var t = this.transitional || It.transitional, r = t && t.silentJSONParsing, s = t && t.forcedJSONParsing, i = !r && this.responseType === "json";
    if (i || s && Z.isString(e) && e.length)
      try {
        return JSON.parse(e);
      } catch (o) {
        if (i)
          throw o.name === "SyntaxError" ? Ni(o, this, "E_JSON_PARSE") : o;
      }
    return e;
  }],
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  validateStatus: function(e) {
    return e >= 200 && e < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*"
    }
  }
};
Z.forEach(["delete", "get", "head"], function(e) {
  It.headers[e] = {};
});
Z.forEach(["post", "put", "patch"], function(e) {
  It.headers[e] = Z.merge(Bi);
});
var In = It, qi = ae, Ii = In, Vi = function(e, t, r) {
  var s = this || Ii;
  return qi.forEach(r, function(o) {
    e = o.call(s, e, t);
  }), e;
}, on, gr;
function is() {
  return gr || (gr = 1, on = function(e) {
    return !!(e && e.__CANCEL__);
  }), on;
}
var _r = ae, an = Vi, ji = is(), $i = In, Mi = qt();
function un(n) {
  if (n.cancelToken && n.cancelToken.throwIfRequested(), n.signal && n.signal.aborted)
    throw new Mi("canceled");
}
var Wi = function(e) {
  un(e), e.headers = e.headers || {}, e.data = an.call(
    e,
    e.data,
    e.headers,
    e.transformRequest
  ), e.headers = _r.merge(
    e.headers.common || {},
    e.headers[e.method] || {},
    e.headers
  ), _r.forEach(
    ["delete", "get", "head", "post", "put", "patch", "common"],
    function(s) {
      delete e.headers[s];
    }
  );
  var t = e.adapter || $i.adapter;
  return t(e).then(function(s) {
    return un(e), s.data = an.call(
      e,
      s.data,
      s.headers,
      e.transformResponse
    ), s;
  }, function(s) {
    return ji(s) || (un(e), s && s.response && (s.response.data = an.call(
      e,
      s.response.data,
      s.response.headers,
      e.transformResponse
    ))), Promise.reject(s);
  });
}, ue = ae, os = function(e, t) {
  t = t || {};
  var r = {};
  function s(h, f) {
    return ue.isPlainObject(h) && ue.isPlainObject(f) ? ue.merge(h, f) : ue.isPlainObject(f) ? ue.merge({}, f) : ue.isArray(f) ? f.slice() : f;
  }
  function i(h) {
    if (ue.isUndefined(t[h])) {
      if (!ue.isUndefined(e[h]))
        return s(void 0, e[h]);
    } else
      return s(e[h], t[h]);
  }
  function o(h) {
    if (!ue.isUndefined(t[h]))
      return s(void 0, t[h]);
  }
  function u(h) {
    if (ue.isUndefined(t[h])) {
      if (!ue.isUndefined(e[h]))
        return s(void 0, e[h]);
    } else
      return s(void 0, t[h]);
  }
  function l(h) {
    if (h in t)
      return s(e[h], t[h]);
    if (h in e)
      return s(void 0, e[h]);
  }
  var a = {
    url: o,
    method: o,
    data: o,
    baseURL: u,
    transformRequest: u,
    transformResponse: u,
    paramsSerializer: u,
    timeout: u,
    timeoutMessage: u,
    withCredentials: u,
    adapter: u,
    responseType: u,
    xsrfCookieName: u,
    xsrfHeaderName: u,
    onUploadProgress: u,
    onDownloadProgress: u,
    decompress: u,
    maxContentLength: u,
    maxBodyLength: u,
    transport: u,
    httpAgent: u,
    httpsAgent: u,
    cancelToken: u,
    socketPath: u,
    responseEncoding: u,
    validateStatus: l
  };
  return ue.forEach(Object.keys(e).concat(Object.keys(t)), function(f) {
    var p = a[f] || i, m = p(f);
    ue.isUndefined(m) && p !== l || (r[f] = m);
  }), r;
}, cn, br;
function as() {
  return br || (br = 1, cn = {
    version: "0.26.1"
  }), cn;
}
var Hi = as().version, Vn = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach(function(n, e) {
  Vn[n] = function(r) {
    return typeof r === n || "a" + (e < 1 ? "n " : " ") + n;
  };
});
var wr = {};
Vn.transitional = function(e, t, r) {
  function s(i, o) {
    return "[Axios v" + Hi + "] Transitional option '" + i + "'" + o + (r ? ". " + r : "");
  }
  return function(i, o, u) {
    if (e === !1)
      throw new Error(s(o, " has been removed" + (t ? " in " + t : "")));
    return t && !wr[o] && (wr[o] = !0, console.warn(
      s(
        o,
        " has been deprecated since v" + t + " and will be removed in the near future"
      )
    )), e ? e(i, o, u) : !0;
  };
};
function Ji(n, e, t) {
  if (typeof n != "object")
    throw new TypeError("options must be an object");
  for (var r = Object.keys(n), s = r.length; s-- > 0; ) {
    var i = r[s], o = e[i];
    if (o) {
      var u = n[i], l = u === void 0 || o(u, i, n);
      if (l !== !0)
        throw new TypeError("option " + i + " must be " + l);
      continue;
    }
    if (t !== !0)
      throw Error("Unknown option " + i);
  }
}
var Yi = {
  assertOptions: Ji,
  validators: Vn
}, us = ae, zi = ts, Er = Ri, Rr = Wi, Vt = os, cs = Yi, ze = cs.validators;
function pt(n) {
  this.defaults = n, this.interceptors = {
    request: new Er(),
    response: new Er()
  };
}
pt.prototype.request = function(e, t) {
  typeof e == "string" ? (t = t || {}, t.url = e) : t = e || {}, t = Vt(this.defaults, t), t.method ? t.method = t.method.toLowerCase() : this.defaults.method ? t.method = this.defaults.method.toLowerCase() : t.method = "get";
  var r = t.transitional;
  r !== void 0 && cs.assertOptions(r, {
    silentJSONParsing: ze.transitional(ze.boolean),
    forcedJSONParsing: ze.transitional(ze.boolean),
    clarifyTimeoutError: ze.transitional(ze.boolean)
  }, !1);
  var s = [], i = !0;
  this.interceptors.request.forEach(function(m) {
    typeof m.runWhen == "function" && m.runWhen(t) === !1 || (i = i && m.synchronous, s.unshift(m.fulfilled, m.rejected));
  });
  var o = [];
  this.interceptors.response.forEach(function(m) {
    o.push(m.fulfilled, m.rejected);
  });
  var u;
  if (!i) {
    var l = [Rr, void 0];
    for (Array.prototype.unshift.apply(l, s), l = l.concat(o), u = Promise.resolve(t); l.length; )
      u = u.then(l.shift(), l.shift());
    return u;
  }
  for (var a = t; s.length; ) {
    var h = s.shift(), f = s.shift();
    try {
      a = h(a);
    } catch (p) {
      f(p);
      break;
    }
  }
  try {
    u = Rr(a);
  } catch (p) {
    return Promise.reject(p);
  }
  for (; o.length; )
    u = u.then(o.shift(), o.shift());
  return u;
};
pt.prototype.getUri = function(e) {
  return e = Vt(this.defaults, e), zi(e.url, e.params, e.paramsSerializer).replace(/^\?/, "");
};
us.forEach(["delete", "get", "head", "options"], function(e) {
  pt.prototype[e] = function(t, r) {
    return this.request(Vt(r || {}, {
      method: e,
      url: t,
      data: (r || {}).data
    }));
  };
});
us.forEach(["post", "put", "patch"], function(e) {
  pt.prototype[e] = function(t, r, s) {
    return this.request(Vt(s || {}, {
      method: e,
      url: t,
      data: r
    }));
  };
});
var Ki = pt, ln, Sr;
function Gi() {
  if (Sr)
    return ln;
  Sr = 1;
  var n = qt();
  function e(t) {
    if (typeof t != "function")
      throw new TypeError("executor must be a function.");
    var r;
    this.promise = new Promise(function(o) {
      r = o;
    });
    var s = this;
    this.promise.then(function(i) {
      if (!!s._listeners) {
        var o, u = s._listeners.length;
        for (o = 0; o < u; o++)
          s._listeners[o](i);
        s._listeners = null;
      }
    }), this.promise.then = function(i) {
      var o, u = new Promise(function(l) {
        s.subscribe(l), o = l;
      }).then(i);
      return u.cancel = function() {
        s.unsubscribe(o);
      }, u;
    }, t(function(o) {
      s.reason || (s.reason = new n(o), r(s.reason));
    });
  }
  return e.prototype.throwIfRequested = function() {
    if (this.reason)
      throw this.reason;
  }, e.prototype.subscribe = function(r) {
    if (this.reason) {
      r(this.reason);
      return;
    }
    this._listeners ? this._listeners.push(r) : this._listeners = [r];
  }, e.prototype.unsubscribe = function(r) {
    if (!!this._listeners) {
      var s = this._listeners.indexOf(r);
      s !== -1 && this._listeners.splice(s, 1);
    }
  }, e.source = function() {
    var r, s = new e(function(o) {
      r = o;
    });
    return {
      token: s,
      cancel: r
    };
  }, ln = e, ln;
}
var fn, Tr;
function Xi() {
  return Tr || (Tr = 1, fn = function(e) {
    return function(r) {
      return e.apply(null, r);
    };
  }), fn;
}
var hn, Or;
function Qi() {
  if (Or)
    return hn;
  Or = 1;
  var n = ae;
  return hn = function(t) {
    return n.isObject(t) && t.isAxiosError === !0;
  }, hn;
}
var xr = ae, Zi = Xr, Lt = Ki, eo = os, to = In;
function ls(n) {
  var e = new Lt(n), t = Zi(Lt.prototype.request, e);
  return xr.extend(t, Lt.prototype, e), xr.extend(t, e), t.create = function(s) {
    return ls(eo(n, s));
  }, t;
}
var _e = ls(to);
_e.Axios = Lt;
_e.Cancel = qt();
_e.CancelToken = Gi();
_e.isCancel = is();
_e.VERSION = as().version;
_e.all = function(e) {
  return Promise.all(e);
};
_e.spread = Xi();
_e.isAxiosError = Qi();
Fn.exports = _e;
Fn.exports.default = _e;
(function(n) {
  n.exports = Fn.exports;
})(Gr);
Object.defineProperty(Ke, "__esModule", { value: !0 });
Ke.getRequestHeaders = Ke.getAxiosClient = void 0;
var no = Gr.exports;
function ro(n, e, t, r) {
  return no.default.create({
    baseURL: n,
    headers: fs(e, r, t),
    withCredentials: !0
  });
}
Ke.getAxiosClient = ro;
function fs(n, e, t) {
  n === void 0 && (n = !1);
  var r = {
    Accept: "application/json",
    "Content-Type": "application/json; charset=utf-8"
  };
  return n && e && t && (r.Authorization = "".concat(e, " ").concat(t())), typeof window < "u" && typeof document < "u" && (window.location && (r["X-Frappe-Site-Name"] = window.location.hostname), window.csrf_token && window.csrf_token !== "{{ csrf_token }}" && (r["X-Frappe-CSRF-Token"] = window.csrf_token)), r;
}
Ke.getRequestHeaders = fs;
var Cr;
function so() {
  if (Cr)
    return rt;
  Cr = 1, Object.defineProperty(rt, "__esModule", { value: !0 }), rt.FrappeApp = void 0;
  var n = hs(), e = ft, t = ht, r = dt, s = Ke, i = function() {
    function o(u, l, a) {
      var h, f;
      this.url = u, this.name = a != null ? a : "FrappeApp", this.useToken = (h = l == null ? void 0 : l.useToken) !== null && h !== void 0 ? h : !1, this.token = l == null ? void 0 : l.token, this.tokenType = (f = l == null ? void 0 : l.type) !== null && f !== void 0 ? f : "Bearer", this.axios = (0, s.getAxiosClient)(this.url, this.useToken, this.token, this.tokenType);
    }
    return o.prototype.auth = function() {
      return new n.FrappeAuth(this.url, this.axios, this.useToken, this.token, this.tokenType);
    }, o.prototype.db = function() {
      return new t.FrappeDB(this.url, this.axios, this.useToken, this.token, this.tokenType);
    }, o.prototype.file = function() {
      return new r.FrappeFileUpload(this.url, this.axios, this.useToken, this.token, this.tokenType);
    }, o.prototype.call = function() {
      return new e.FrappeCall(this.url, this.axios, this.useToken, this.token, this.tokenType);
    }, o;
  }();
  return rt.FrappeApp = i, rt;
}
var jt = {}, ye = B && B.__assign || function() {
  return ye = Object.assign || function(n) {
    for (var e, t = 1, r = arguments.length; t < r; t++) {
      e = arguments[t];
      for (var s in e)
        Object.prototype.hasOwnProperty.call(e, s) && (n[s] = e[s]);
    }
    return n;
  }, ye.apply(this, arguments);
}, Rt = B && B.__awaiter || function(n, e, t, r) {
  function s(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function u(h) {
      try {
        a(r.next(h));
      } catch (f) {
        o(f);
      }
    }
    function l(h) {
      try {
        a(r.throw(h));
      } catch (f) {
        o(f);
      }
    }
    function a(h) {
      h.done ? i(h.value) : s(h.value).then(u, l);
    }
    a((r = r.apply(n, e || [])).next());
  });
}, St = B && B.__generator || function(n, e) {
  var t = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, s, i, o;
  return o = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function() {
    return this;
  }), o;
  function u(a) {
    return function(h) {
      return l([a, h]);
    };
  }
  function l(a) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (r = 1, s && (i = a[0] & 2 ? s.return : a[0] ? s.throw || ((i = s.return) && i.call(s), 0) : s.next) && !(i = i.call(s, a[1])).done)
          return i;
        switch (s = 0, i && (a = [a[0] & 2, i.value]), a[0]) {
          case 0:
          case 1:
            i = a;
            break;
          case 4:
            return t.label++, { value: a[1], done: !1 };
          case 5:
            t.label++, s = a[1], a = [0];
            continue;
          case 7:
            a = t.ops.pop(), t.trys.pop();
            continue;
          default:
            if (i = t.trys, !(i = i.length > 0 && i[i.length - 1]) && (a[0] === 6 || a[0] === 2)) {
              t = 0;
              continue;
            }
            if (a[0] === 3 && (!i || a[1] > i[0] && a[1] < i[3])) {
              t.label = a[1];
              break;
            }
            if (a[0] === 6 && t.label < i[1]) {
              t.label = i[1], i = a;
              break;
            }
            if (i && t.label < i[2]) {
              t.label = i[2], t.ops.push(a);
              break;
            }
            i[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        a = e.call(n, t);
      } catch (h) {
        a = [6, h], s = 0;
      } finally {
        r = i = 0;
      }
    if (a[0] & 5)
      throw a[1];
    return { value: a[0] ? a[1] : void 0, done: !0 };
  }
};
Object.defineProperty(jt, "__esModule", { value: !0 });
jt.FrappeAuth = void 0;
var io = function() {
  function n(e, t, r, s, i) {
    this.appURL = e, this.axios = t, this.useToken = r != null ? r : !1, this.token = s, this.tokenType = i;
  }
  return n.prototype.loginWithUsernamePassword = function(e) {
    return Rt(this, void 0, void 0, function() {
      var t, r, s;
      return St(this, function(i) {
        return t = e.username, r = e.password, s = e.device, [2, this.axios.post("/api/method/login", {
          usr: t,
          pwd: r,
          device: s
        }).then(function(o) {
          return o.data;
        }).catch(function(o) {
          var u, l;
          throw ye(ye({}, o.response.data), { httpStatus: o.response.status, httpStatusText: o.response.statusText, message: (u = o.response.data.message) !== null && u !== void 0 ? u : "There was an error while logging in", exception: (l = o.response.data.exception) !== null && l !== void 0 ? l : "" });
        })];
      });
    });
  }, n.prototype.getLoggedInUser = function() {
    return Rt(this, void 0, void 0, function() {
      return St(this, function(e) {
        return [2, this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(t) {
          return t.data.message;
        }).catch(function(t) {
          var r;
          throw ye(ye({}, t.response.data), { httpStatus: t.response.status, httpStatusText: t.response.statusText, message: "There was an error while fetching the logged in user", exception: (r = t.response.data.exception) !== null && r !== void 0 ? r : "" });
        })];
      });
    });
  }, n.prototype.logout = function() {
    return Rt(this, void 0, void 0, function() {
      return St(this, function(e) {
        return [2, this.axios.post("/api/method/logout", {}).then(function() {
        }).catch(function(t) {
          var r, s;
          throw ye(ye({}, t.response.data), { httpStatus: t.response.status, httpStatusText: t.response.statusText, message: (r = t.response.data.message) !== null && r !== void 0 ? r : "There was an error while logging out", exception: (s = t.response.data.exception) !== null && s !== void 0 ? s : "" });
        })];
      });
    });
  }, n.prototype.forgetPassword = function(e) {
    return Rt(this, void 0, void 0, function() {
      return St(this, function(t) {
        return [2, this.axios.post("/", {
          cmd: "frappe.core.doctype.user.user.reset_password",
          user: e
        }).then(function() {
        }).catch(function(r) {
          var s, i;
          throw ye(ye({}, r.response.data), { httpStatus: r.response.status, httpStatusText: r.response.statusText, message: (s = r.response.data.message) !== null && s !== void 0 ? s : "There was an error sending password reset email.", exception: (i = r.response.data.exception) !== null && i !== void 0 ? i : "" });
        })];
      });
    });
  }, n;
}();
jt.FrappeAuth = io;
var Ar;
function hs() {
  return Ar || (Ar = 1, function(n) {
    var e = B && B.__createBinding || (Object.create ? function(r, s, i, o) {
      o === void 0 && (o = i);
      var u = Object.getOwnPropertyDescriptor(s, i);
      (!u || ("get" in u ? !s.__esModule : u.writable || u.configurable)) && (u = { enumerable: !0, get: function() {
        return s[i];
      } }), Object.defineProperty(r, o, u);
    } : function(r, s, i, o) {
      o === void 0 && (o = i), r[o] = s[i];
    }), t = B && B.__exportStar || function(r, s) {
      for (var i in r)
        i !== "default" && !Object.prototype.hasOwnProperty.call(s, i) && e(s, r, i);
    };
    Object.defineProperty(n, "__esModule", { value: !0 }), t(so(), n), t(jt, n), t(ht, n), t(dt, n), t(ft, n);
  }(zt)), zt;
}
var oo = hs(), ds = { exports: {} }, dn = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Dr;
function ao() {
  if (Dr)
    return dn;
  Dr = 1;
  var n = qe;
  function e(f, p) {
    return f === p && (f !== 0 || 1 / f === 1 / p) || f !== f && p !== p;
  }
  var t = typeof Object.is == "function" ? Object.is : e, r = n.useState, s = n.useEffect, i = n.useLayoutEffect, o = n.useDebugValue;
  function u(f, p) {
    var m = p(), g = r({ inst: { value: m, getSnapshot: p } }), b = g[0].inst, E = g[1];
    return i(function() {
      b.value = m, b.getSnapshot = p, l(b) && E({ inst: b });
    }, [f, m, p]), s(function() {
      return l(b) && E({ inst: b }), f(function() {
        l(b) && E({ inst: b });
      });
    }, [f]), o(m), m;
  }
  function l(f) {
    var p = f.getSnapshot;
    f = f.value;
    try {
      var m = p();
      return !t(f, m);
    } catch {
      return !0;
    }
  }
  function a(f, p) {
    return p();
  }
  var h = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? a : u;
  return dn.useSyncExternalStore = n.useSyncExternalStore !== void 0 ? n.useSyncExternalStore : h, dn;
}
var pn = {};
/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var kr;
function uo() {
  return kr || (kr = 1, process.env.NODE_ENV !== "production" && function() {
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());
    var n = qe, e = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function t(k) {
      {
        for (var y = arguments.length, M = new Array(y > 1 ? y - 1 : 0), T = 1; T < y; T++)
          M[T - 1] = arguments[T];
        r("error", k, M);
      }
    }
    function r(k, y, M) {
      {
        var T = e.ReactDebugCurrentFrame, V = T.getStackAddendum();
        V !== "" && (y += "%s", M = M.concat([V]));
        var D = M.map(function(j) {
          return String(j);
        });
        D.unshift("Warning: " + y), Function.prototype.apply.call(console[k], console, D);
      }
    }
    function s(k, y) {
      return k === y && (k !== 0 || 1 / k === 1 / y) || k !== k && y !== y;
    }
    var i = typeof Object.is == "function" ? Object.is : s, o = n.useState, u = n.useEffect, l = n.useLayoutEffect, a = n.useDebugValue, h = !1, f = !1;
    function p(k, y, M) {
      h || n.startTransition !== void 0 && (h = !0, t("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));
      var T = y();
      if (!f) {
        var V = y();
        i(T, V) || (t("The result of getSnapshot should be cached to avoid an infinite loop"), f = !0);
      }
      var D = o({
        inst: {
          value: T,
          getSnapshot: y
        }
      }), j = D[0].inst, L = D[1];
      return l(function() {
        j.value = T, j.getSnapshot = y, m(j) && L({
          inst: j
        });
      }, [k, T, y]), u(function() {
        m(j) && L({
          inst: j
        });
        var Q = function() {
          m(j) && L({
            inst: j
          });
        };
        return k(Q);
      }, [k]), a(T), T;
    }
    function m(k) {
      var y = k.getSnapshot, M = k.value;
      try {
        var T = y();
        return !i(M, T);
      } catch {
        return !0;
      }
    }
    function g(k, y, M) {
      return y();
    }
    var b = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", E = !b, _ = E ? g : p, S = n.useSyncExternalStore !== void 0 ? n.useSyncExternalStore : _;
    pn.useSyncExternalStore = S, typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());
  }()), pn;
}
(function(n) {
  process.env.NODE_ENV === "production" ? n.exports = ao() : n.exports = uo();
})(ds);
const Ae = () => {
}, oe = Ae(), vn = Object, C = (n) => n === oe, Oe = (n) => typeof n == "function", De = (n, e) => ({
  ...n,
  ...e
}), co = (n) => Oe(n.then), Tt = /* @__PURE__ */ new WeakMap();
let lo = 0;
const ct = (n) => {
  const e = typeof n, t = n && n.constructor, r = t == Date;
  let s, i;
  if (vn(n) === n && !r && t != RegExp) {
    if (s = Tt.get(n), s)
      return s;
    if (s = ++lo + "~", Tt.set(n, s), t == Array) {
      for (s = "@", i = 0; i < n.length; i++)
        s += ct(n[i]) + ",";
      Tt.set(n, s);
    }
    if (t == vn) {
      s = "#";
      const o = vn.keys(n).sort();
      for (; !C(i = o.pop()); )
        C(n[i]) || (s += i + ":" + ct(n[i]) + ",");
      Tt.set(n, s);
    }
  } else
    s = r ? n.toJSON() : e == "symbol" ? n.toString() : e == "string" ? JSON.stringify(n) : "" + n;
  return s;
}, Te = /* @__PURE__ */ new WeakMap(), yn = {}, Ot = {}, jn = "undefined", $t = typeof window != jn, Sn = typeof document != jn, fo = () => $t && typeof window.requestAnimationFrame != jn, ps = (n, e) => {
  const t = Te.get(n);
  return [
    () => !C(e) && n.get(e) || yn,
    (r) => {
      if (!C(e)) {
        const s = n.get(e);
        e in Ot || (Ot[e] = s), t[5](e, De(s, r), s || yn);
      }
    },
    t[6],
    () => !C(e) && e in Ot ? Ot[e] : !C(e) && n.get(e) || yn
  ];
};
let Tn = !0;
const ho = () => Tn, [On, xn] = $t && window.addEventListener ? [
  window.addEventListener.bind(window),
  window.removeEventListener.bind(window)
] : [
  Ae,
  Ae
], po = () => {
  const n = Sn && document.visibilityState;
  return C(n) || n !== "hidden";
}, vo = (n) => (Sn && document.addEventListener("visibilitychange", n), On("focus", n), () => {
  Sn && document.removeEventListener("visibilitychange", n), xn("focus", n);
}), yo = (n) => {
  const e = () => {
    Tn = !0, n();
  }, t = () => {
    Tn = !1;
  };
  return On("online", e), On("offline", t), () => {
    xn("online", e), xn("offline", t);
  };
}, mo = {
  isOnline: ho,
  isVisible: po
}, go = {
  initFocus: vo,
  initReconnect: yo
}, Lr = !qe.useId, lt = !$t || "Deno" in window, _o = (n) => fo() ? window.requestAnimationFrame(n) : setTimeout(n, 1), mn = lt ? Ge : ei, gn = typeof navigator < "u" && navigator.connection, Nr = !lt && gn && ([
  "slow-2g",
  "2g"
].includes(gn.effectiveType) || gn.saveData), $n = (n) => {
  if (Oe(n))
    try {
      n = n();
    } catch {
      n = "";
    }
  const e = n;
  return n = typeof n == "string" ? n : (Array.isArray(n) ? n.length : n) ? ct(n) : "", [
    n,
    e
  ];
};
let bo = 0;
const Cn = () => ++bo, vs = 0, ys = 1, ms = 2, wo = 3;
var st = {
  __proto__: null,
  ERROR_REVALIDATE_EVENT: wo,
  FOCUS_EVENT: vs,
  MUTATE_EVENT: ms,
  RECONNECT_EVENT: ys
};
async function gs(...n) {
  const [e, t, r, s] = n, i = De({
    populateCache: !0,
    throwOnError: !0
  }, typeof s == "boolean" ? {
    revalidate: s
  } : s || {});
  let o = i.populateCache;
  const u = i.rollbackOnError;
  let l = i.optimisticData;
  const a = i.revalidate !== !1, h = (m) => typeof u == "function" ? u(m) : u !== !1, f = i.throwOnError;
  if (Oe(t)) {
    const m = t, g = [], b = e.keys();
    for (const E of b)
      !/^\$(inf|sub)\$/.test(E) && m(e.get(E)._k) && g.push(E);
    return Promise.all(g.map(p));
  }
  return p(t);
  async function p(m) {
    const [g] = $n(m);
    if (!g)
      return;
    const [b, E] = ps(e, g), [_, S, k, y] = Te.get(e), M = () => {
      const F = _[g];
      return a && (delete k[g], delete y[g], F && F[0]) ? F[0](ms).then(() => b().data) : b().data;
    };
    if (n.length < 3)
      return M();
    let T = r, V;
    const D = Cn();
    S[g] = [
      D,
      0
    ];
    const j = !C(l), L = b(), Q = L.data, ne = L._c, G = C(ne) ? Q : ne;
    if (j && (l = Oe(l) ? l(G, Q) : l, E({
      data: l,
      _c: G
    })), Oe(T))
      try {
        T = T(G);
      } catch (F) {
        V = F;
      }
    if (T && co(T))
      if (T = await T.catch((F) => {
        V = F;
      }), D !== S[g][0]) {
        if (V)
          throw V;
        return T;
      } else
        V && j && h(V) && (o = !0, E({
          data: G,
          _c: oe
        }));
    if (o && !V)
      if (Oe(o)) {
        const F = o(T, G);
        E({
          data: F,
          error: oe,
          _c: oe
        });
      } else
        E({
          data: T,
          error: oe,
          _c: oe
        });
    if (S[g][1] = Cn(), Promise.resolve(M()).then(() => {
      E({
        _c: oe
      });
    }), V) {
      if (f)
        throw V;
      return;
    }
    return T;
  }
}
const Pr = (n, e) => {
  for (const t in n)
    n[t][0] && n[t][0](e);
}, Eo = (n, e) => {
  if (!Te.has(n)) {
    const t = De(go, e), r = {}, s = gs.bind(oe, n);
    let i = Ae;
    const o = {}, u = (h, f) => {
      const p = o[h] || [];
      return o[h] = p, p.push(f), () => p.splice(p.indexOf(f), 1);
    }, l = (h, f, p) => {
      n.set(h, f);
      const m = o[h];
      if (m)
        for (const g of m)
          g(f, p);
    }, a = () => {
      if (!Te.has(n) && (Te.set(n, [
        r,
        {},
        {},
        {},
        s,
        l,
        u
      ]), !lt)) {
        const h = t.initFocus(setTimeout.bind(oe, Pr.bind(oe, r, vs))), f = t.initReconnect(setTimeout.bind(oe, Pr.bind(oe, r, ys)));
        i = () => {
          h && h(), f && f(), Te.delete(n);
        };
      }
    };
    return a(), [
      n,
      s,
      a,
      i
    ];
  }
  return [
    n,
    Te.get(n)[4]
  ];
}, Ro = (n, e, t, r, s) => {
  const i = t.errorRetryCount, o = s.retryCount, u = ~~((Math.random() + 0.5) * (1 << (o < 8 ? o : 8))) * t.errorRetryInterval;
  !C(i) && o > i || setTimeout(r, u, s);
}, So = (n, e) => ct(n) == ct(e), [_s, To] = Eo(/* @__PURE__ */ new Map()), Oo = De(
  {
    onLoadingSlow: Ae,
    onSuccess: Ae,
    onError: Ae,
    onErrorRetry: Ro,
    onDiscarded: Ae,
    revalidateOnFocus: !0,
    revalidateOnReconnect: !0,
    revalidateIfStale: !0,
    shouldRetryOnError: !0,
    errorRetryInterval: Nr ? 1e4 : 5e3,
    focusThrottleInterval: 5 * 1e3,
    dedupingInterval: 2 * 1e3,
    loadingTimeout: Nr ? 5e3 : 3e3,
    compare: So,
    isPaused: () => !1,
    cache: _s,
    mutate: To,
    fallback: {}
  },
  mo
), xo = (n, e) => {
  const t = De(n, e);
  if (e) {
    const { use: r, fallback: s } = n, { use: i, fallback: o } = e;
    r && i && (t.use = r.concat(i)), s && o && (t.fallback = De(s, o));
  }
  return t;
}, Co = zr({}), Ao = "$inf$", bs = $t && window.__SWR_DEVTOOLS_USE__, Do = bs ? window.__SWR_DEVTOOLS_USE__ : [], ko = () => {
  bs && (window.__SWR_DEVTOOLS_REACT__ = qe);
}, Lo = (n) => Oe(n[1]) ? [
  n[0],
  n[1],
  n[2] || {}
] : [
  n[0],
  null,
  (n[1] === null ? n[2] : n[1]) || {}
], No = () => De(Oo, ee(Co)), Po = (n) => (e, t, r) => n(e, t && ((...i) => {
  const [o] = $n(e), [, , , u] = Te.get(_s);
  if (o.startsWith(Ao))
    return t(...i);
  const l = u[o];
  return C(l) ? t(...i) : (delete u[o], l);
}), r), Bo = Do.concat(Po), Fo = (n) => function(...t) {
  const r = No(), [s, i, o] = Lo(t), u = xo(r, o);
  let l = n;
  const { use: a } = u, h = (a || []).concat(Bo);
  for (let f = h.length; f--; )
    l = h[f](l);
  return l(s, i || u.fetcher || null, u);
}, Uo = (n, e, t) => {
  const r = e[n] || (e[n] = []);
  return r.push(t), () => {
    const s = r.indexOf(t);
    s >= 0 && (r[s] = r[r.length - 1], r.pop());
  };
};
ko();
const Br = qe.use || ((n) => {
  if (n.status === "pending")
    throw n;
  if (n.status === "fulfilled")
    return n.value;
  throw n.status === "rejected" ? n.reason : (n.status = "pending", n.then((e) => {
    n.status = "fulfilled", n.value = e;
  }, (e) => {
    n.status = "rejected", n.reason = e;
  }), n);
}), _n = {
  dedupe: !0
}, qo = (n, e, t) => {
  const { cache: r, compare: s, suspense: i, fallbackData: o, revalidateOnMount: u, revalidateIfStale: l, refreshInterval: a, refreshWhenHidden: h, refreshWhenOffline: f, keepPreviousData: p } = t, [m, g, b, E] = Te.get(r), [_, S] = $n(n), k = Be(!1), y = Be(!1), M = Be(_), T = Be(e), V = Be(t), D = () => V.current, j = () => D().isVisible() && D().isOnline(), [L, Q, ne, G] = ps(r, _), F = Be({}).current, Le = C(o) ? t.fallback[_] : o, Qe = (N, U) => {
    for (const X in F) {
      const I = X;
      if (I === "data") {
        if (!s(N[I], U[I]) && (!C(N[I]) || !s(Ie, U[I])))
          return !1;
      } else if (U[I] !== N[I])
        return !1;
    }
    return !0;
  }, Ze = Kr(() => {
    const N = (() => !_ || !e ? !1 : C(u) ? D().isPaused() || i ? !1 : C(l) ? !0 : l : u)(), U = (J) => {
      const de = De(J);
      return delete de._k, N ? {
        isValidating: !0,
        isLoading: !0,
        ...de
      } : de;
    }, X = L(), I = G(), re = U(X), Re = X === I ? re : U(I);
    let H = re;
    return [
      () => {
        const J = U(L());
        return Qe(J, H) ? (H.data = J.data, H.isLoading = J.isLoading, H.isValidating = J.isValidating, H.error = J.error, H) : (H = J, J);
      },
      () => Re
    ];
  }, [
    r,
    _
  ]), be = ds.exports.useSyncExternalStore($(
    (N) => ne(_, (U, X) => {
      Qe(X, U) || N();
    }),
    [
      r,
      _
    ]
  ), Ze[0], Ze[1]), et = !k.current, yt = m[_] && m[_].length > 0, we = be.data, Ee = C(we) ? Le : we, Ne = be.error, mt = Be(Ee), Ie = p ? C(we) ? mt.current : we : Ee, Ve = (() => yt && !C(Ne) ? !1 : et && !C(u) ? u : D().isPaused() ? !1 : i ? C(Ee) ? !1 : l : C(Ee) || l)(), je = !!(_ && e && et && Ve), $e = C(be.isValidating) ? je : be.isValidating, tt = C(be.isLoading) ? je : be.isLoading, ve = $(
    async (N) => {
      const U = T.current;
      if (!_ || !U || y.current || D().isPaused())
        return !1;
      let X, I, re = !0;
      const Re = N || {}, H = !b[_] || !Re.dedupe, J = () => Lr ? !y.current && _ === M.current && k.current : _ === M.current, de = {
        isValidating: !1,
        isLoading: !1
      }, _t = () => {
        Q(de);
      }, Me = () => {
        const ie = b[_];
        ie && ie[1] === I && delete b[_];
      }, bt = {
        isValidating: !0
      };
      C(L().data) && (bt.isLoading = !0);
      try {
        if (H && (Q(bt), t.loadingTimeout && C(L().data) && setTimeout(() => {
          re && J() && D().onLoadingSlow(_, t);
        }, t.loadingTimeout), b[_] = [
          U(S),
          Cn()
        ]), [X, I] = b[_], X = await X, H && setTimeout(Me, t.dedupingInterval), !b[_] || b[_][1] !== I)
          return H && J() && D().onDiscarded(_), !1;
        de.error = oe;
        const ie = g[_];
        if (!C(ie) && (I <= ie[0] || I <= ie[1] || ie[1] === 0))
          return _t(), H && J() && D().onDiscarded(_), !1;
        const ce = L().data;
        de.data = s(ce, X) ? ce : X, H && J() && D().onSuccess(X, _, t);
      } catch (ie) {
        Me();
        const ce = D(), { shouldRetryOnError: We } = ce;
        ce.isPaused() || (de.error = ie, H && J() && (ce.onError(ie, _, ce), (We === !0 || Oe(We) && We(ie)) && j() && ce.onErrorRetry(ie, _, ce, (Pe) => {
          const nt = m[_];
          nt && nt[0] && nt[0](st.ERROR_REVALIDATE_EVENT, Pe);
        }, {
          retryCount: (Re.retryCount || 0) + 1,
          dedupe: !0
        })));
      }
      return re = !1, _t(), !0;
    },
    [
      _,
      r
    ]
  ), gt = $(
    (...N) => gs(r, M.current, ...N),
    []
  );
  if (mn(() => {
    T.current = e, V.current = t, C(we) || (mt.current = we);
  }), mn(() => {
    if (!_)
      return;
    const N = ve.bind(oe, _n);
    let U = 0;
    const I = Uo(_, m, (re, Re = {}) => {
      if (re == st.FOCUS_EVENT) {
        const H = Date.now();
        D().revalidateOnFocus && H > U && j() && (U = H + D().focusThrottleInterval, N());
      } else if (re == st.RECONNECT_EVENT)
        D().revalidateOnReconnect && j() && N();
      else {
        if (re == st.MUTATE_EVENT)
          return ve();
        if (re == st.ERROR_REVALIDATE_EVENT)
          return ve(Re);
      }
    });
    return y.current = !1, M.current = _, k.current = !0, Q({
      _k: S
    }), Ve && (C(Ee) || lt ? N() : _o(N)), () => {
      y.current = !0, I();
    };
  }, [
    _
  ]), mn(() => {
    let N;
    function U() {
      const I = Oe(a) ? a(L().data) : a;
      I && N !== -1 && (N = setTimeout(X, I));
    }
    function X() {
      !L().error && (h || D().isVisible()) && (f || D().isOnline()) ? ve(_n).then(U) : U();
    }
    return U(), () => {
      N && (clearTimeout(N), N = -1);
    };
  }, [
    a,
    h,
    f,
    _
  ]), ti(Ie), i && C(Ee) && _) {
    if (!Lr && lt)
      throw new Error("Fallback data is required when using suspense in SSR.");
    T.current = e, V.current = t, y.current = !1;
    const N = E[_];
    if (!C(N)) {
      const U = gt(N);
      Br(U);
    }
    if (C(Ne)) {
      const U = ve(_n);
      C(Ie) || (U.status = "fulfilled", U.value = !0), Br(U);
    } else
      throw Ne;
  }
  return {
    mutate: gt,
    get data() {
      return F.data = !0, Ie;
    },
    get error() {
      return F.error = !0, Ne;
    },
    get isValidating() {
      return F.isValidating = !0, $e;
    },
    get isLoading() {
      return F.isLoading = !0, tt;
    }
  };
}, vt = Fo(qo), ge = /* @__PURE__ */ Object.create(null);
ge.open = "0";
ge.close = "1";
ge.ping = "2";
ge.pong = "3";
ge.message = "4";
ge.upgrade = "5";
ge.noop = "6";
const Nt = /* @__PURE__ */ Object.create(null);
Object.keys(ge).forEach((n) => {
  Nt[ge[n]] = n;
});
const An = { type: "error", data: "parser error" }, ws = typeof Blob == "function" || typeof Blob < "u" && Object.prototype.toString.call(Blob) === "[object BlobConstructor]", Es = typeof ArrayBuffer == "function", Rs = (n) => typeof ArrayBuffer.isView == "function" ? ArrayBuffer.isView(n) : n && n.buffer instanceof ArrayBuffer, Mn = ({ type: n, data: e }, t, r) => ws && e instanceof Blob ? t ? r(e) : Fr(e, r) : Es && (e instanceof ArrayBuffer || Rs(e)) ? t ? r(e) : Fr(new Blob([e]), r) : r(ge[n] + (e || "")), Fr = (n, e) => {
  const t = new FileReader();
  return t.onload = function() {
    const r = t.result.split(",")[1];
    e("b" + (r || ""));
  }, t.readAsDataURL(n);
};
function Ur(n) {
  return n instanceof Uint8Array ? n : n instanceof ArrayBuffer ? new Uint8Array(n) : new Uint8Array(n.buffer, n.byteOffset, n.byteLength);
}
let bn;
function Io(n, e) {
  if (ws && n.data instanceof Blob)
    return n.data.arrayBuffer().then(Ur).then(e);
  if (Es && (n.data instanceof ArrayBuffer || Rs(n.data)))
    return e(Ur(n.data));
  Mn(n, !1, (t) => {
    bn || (bn = new TextEncoder()), e(bn.encode(t));
  });
}
const qr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", ut = typeof Uint8Array > "u" ? [] : new Uint8Array(256);
for (let n = 0; n < qr.length; n++)
  ut[qr.charCodeAt(n)] = n;
const Vo = (n) => {
  let e = n.length * 0.75, t = n.length, r, s = 0, i, o, u, l;
  n[n.length - 1] === "=" && (e--, n[n.length - 2] === "=" && e--);
  const a = new ArrayBuffer(e), h = new Uint8Array(a);
  for (r = 0; r < t; r += 4)
    i = ut[n.charCodeAt(r)], o = ut[n.charCodeAt(r + 1)], u = ut[n.charCodeAt(r + 2)], l = ut[n.charCodeAt(r + 3)], h[s++] = i << 2 | o >> 4, h[s++] = (o & 15) << 4 | u >> 2, h[s++] = (u & 3) << 6 | l & 63;
  return a;
}, jo = typeof ArrayBuffer == "function", Wn = (n, e) => {
  if (typeof n != "string")
    return {
      type: "message",
      data: Ss(n, e)
    };
  const t = n.charAt(0);
  return t === "b" ? {
    type: "message",
    data: $o(n.substring(1), e)
  } : Nt[t] ? n.length > 1 ? {
    type: Nt[t],
    data: n.substring(1)
  } : {
    type: Nt[t]
  } : An;
}, $o = (n, e) => {
  if (jo) {
    const t = Vo(n);
    return Ss(t, e);
  } else
    return { base64: !0, data: n };
}, Ss = (n, e) => {
  switch (e) {
    case "blob":
      return n instanceof Blob ? n : new Blob([n]);
    case "arraybuffer":
    default:
      return n instanceof ArrayBuffer ? n : n.buffer;
  }
}, Ts = String.fromCharCode(30), Mo = (n, e) => {
  const t = n.length, r = new Array(t);
  let s = 0;
  n.forEach((i, o) => {
    Mn(i, !1, (u) => {
      r[o] = u, ++s === t && e(r.join(Ts));
    });
  });
}, Wo = (n, e) => {
  const t = n.split(Ts), r = [];
  for (let s = 0; s < t.length; s++) {
    const i = Wn(t[s], e);
    if (r.push(i), i.type === "error")
      break;
  }
  return r;
};
function Ho() {
  return new TransformStream({
    transform(n, e) {
      Io(n, (t) => {
        const r = t.length;
        let s;
        if (r < 126)
          s = new Uint8Array(1), new DataView(s.buffer).setUint8(0, r);
        else if (r < 65536) {
          s = new Uint8Array(3);
          const i = new DataView(s.buffer);
          i.setUint8(0, 126), i.setUint16(1, r);
        } else {
          s = new Uint8Array(9);
          const i = new DataView(s.buffer);
          i.setUint8(0, 127), i.setBigUint64(1, BigInt(r));
        }
        n.data && typeof n.data != "string" && (s[0] |= 128), e.enqueue(s), e.enqueue(t);
      });
    }
  });
}
let wn;
function xt(n) {
  return n.reduce((e, t) => e + t.length, 0);
}
function Ct(n, e) {
  if (n[0].length === e)
    return n.shift();
  const t = new Uint8Array(e);
  let r = 0;
  for (let s = 0; s < e; s++)
    t[s] = n[0][r++], r === n[0].length && (n.shift(), r = 0);
  return n.length && r < n[0].length && (n[0] = n[0].slice(r)), t;
}
function Jo(n, e) {
  wn || (wn = new TextDecoder());
  const t = [];
  let r = 0, s = -1, i = !1;
  return new TransformStream({
    transform(o, u) {
      for (t.push(o); ; ) {
        if (r === 0) {
          if (xt(t) < 1)
            break;
          const l = Ct(t, 1);
          i = (l[0] & 128) === 128, s = l[0] & 127, s < 126 ? r = 3 : s === 126 ? r = 1 : r = 2;
        } else if (r === 1) {
          if (xt(t) < 2)
            break;
          const l = Ct(t, 2);
          s = new DataView(l.buffer, l.byteOffset, l.length).getUint16(0), r = 3;
        } else if (r === 2) {
          if (xt(t) < 8)
            break;
          const l = Ct(t, 8), a = new DataView(l.buffer, l.byteOffset, l.length), h = a.getUint32(0);
          if (h > Math.pow(2, 53 - 32) - 1) {
            u.enqueue(An);
            break;
          }
          s = h * Math.pow(2, 32) + a.getUint32(4), r = 3;
        } else {
          if (xt(t) < s)
            break;
          const l = Ct(t, s);
          u.enqueue(Wn(i ? l : wn.decode(l), e)), r = 0;
        }
        if (s === 0 || s > n) {
          u.enqueue(An);
          break;
        }
      }
    }
  });
}
const Os = 4;
function K(n) {
  if (n)
    return Yo(n);
}
function Yo(n) {
  for (var e in K.prototype)
    n[e] = K.prototype[e];
  return n;
}
K.prototype.on = K.prototype.addEventListener = function(n, e) {
  return this._callbacks = this._callbacks || {}, (this._callbacks["$" + n] = this._callbacks["$" + n] || []).push(e), this;
};
K.prototype.once = function(n, e) {
  function t() {
    this.off(n, t), e.apply(this, arguments);
  }
  return t.fn = e, this.on(n, t), this;
};
K.prototype.off = K.prototype.removeListener = K.prototype.removeAllListeners = K.prototype.removeEventListener = function(n, e) {
  if (this._callbacks = this._callbacks || {}, arguments.length == 0)
    return this._callbacks = {}, this;
  var t = this._callbacks["$" + n];
  if (!t)
    return this;
  if (arguments.length == 1)
    return delete this._callbacks["$" + n], this;
  for (var r, s = 0; s < t.length; s++)
    if (r = t[s], r === e || r.fn === e) {
      t.splice(s, 1);
      break;
    }
  return t.length === 0 && delete this._callbacks["$" + n], this;
};
K.prototype.emit = function(n) {
  this._callbacks = this._callbacks || {};
  for (var e = new Array(arguments.length - 1), t = this._callbacks["$" + n], r = 1; r < arguments.length; r++)
    e[r - 1] = arguments[r];
  if (t) {
    t = t.slice(0);
    for (var r = 0, s = t.length; r < s; ++r)
      t[r].apply(this, e);
  }
  return this;
};
K.prototype.emitReserved = K.prototype.emit;
K.prototype.listeners = function(n) {
  return this._callbacks = this._callbacks || {}, this._callbacks["$" + n] || [];
};
K.prototype.hasListeners = function(n) {
  return !!this.listeners(n).length;
};
const he = (() => typeof self < "u" ? self : typeof window < "u" ? window : Function("return this")())();
function xs(n, ...e) {
  return e.reduce((t, r) => (n.hasOwnProperty(r) && (t[r] = n[r]), t), {});
}
const zo = he.setTimeout, Ko = he.clearTimeout;
function Mt(n, e) {
  e.useNativeTimers ? (n.setTimeoutFn = zo.bind(he), n.clearTimeoutFn = Ko.bind(he)) : (n.setTimeoutFn = he.setTimeout.bind(he), n.clearTimeoutFn = he.clearTimeout.bind(he));
}
const Go = 1.33;
function Xo(n) {
  return typeof n == "string" ? Qo(n) : Math.ceil((n.byteLength || n.size) * Go);
}
function Qo(n) {
  let e = 0, t = 0;
  for (let r = 0, s = n.length; r < s; r++)
    e = n.charCodeAt(r), e < 128 ? t += 1 : e < 2048 ? t += 2 : e < 55296 || e >= 57344 ? t += 3 : (r++, t += 4);
  return t;
}
function Zo(n) {
  let e = "";
  for (let t in n)
    n.hasOwnProperty(t) && (e.length && (e += "&"), e += encodeURIComponent(t) + "=" + encodeURIComponent(n[t]));
  return e;
}
function ea(n) {
  let e = {}, t = n.split("&");
  for (let r = 0, s = t.length; r < s; r++) {
    let i = t[r].split("=");
    e[decodeURIComponent(i[0])] = decodeURIComponent(i[1]);
  }
  return e;
}
class ta extends Error {
  constructor(e, t, r) {
    super(e), this.description = t, this.context = r, this.type = "TransportError";
  }
}
class Hn extends K {
  constructor(e) {
    super(), this.writable = !1, Mt(this, e), this.opts = e, this.query = e.query, this.socket = e.socket;
  }
  onError(e, t, r) {
    return super.emitReserved("error", new ta(e, t, r)), this;
  }
  open() {
    return this.readyState = "opening", this.doOpen(), this;
  }
  close() {
    return (this.readyState === "opening" || this.readyState === "open") && (this.doClose(), this.onClose()), this;
  }
  send(e) {
    this.readyState === "open" && this.write(e);
  }
  onOpen() {
    this.readyState = "open", this.writable = !0, super.emitReserved("open");
  }
  onData(e) {
    const t = Wn(e, this.socket.binaryType);
    this.onPacket(t);
  }
  onPacket(e) {
    super.emitReserved("packet", e);
  }
  onClose(e) {
    this.readyState = "closed", super.emitReserved("close", e);
  }
  pause(e) {
  }
  createUri(e, t = {}) {
    return e + "://" + this._hostname() + this._port() + this.opts.path + this._query(t);
  }
  _hostname() {
    const e = this.opts.hostname;
    return e.indexOf(":") === -1 ? e : "[" + e + "]";
  }
  _port() {
    return this.opts.port && (this.opts.secure && Number(this.opts.port !== 443) || !this.opts.secure && Number(this.opts.port) !== 80) ? ":" + this.opts.port : "";
  }
  _query(e) {
    const t = Zo(e);
    return t.length ? "?" + t : "";
  }
}
const Cs = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""), Dn = 64, na = {};
let Ir = 0, At = 0, Vr;
function jr(n) {
  let e = "";
  do
    e = Cs[n % Dn] + e, n = Math.floor(n / Dn);
  while (n > 0);
  return e;
}
function As() {
  const n = jr(+new Date());
  return n !== Vr ? (Ir = 0, Vr = n) : n + "." + jr(Ir++);
}
for (; At < Dn; At++)
  na[Cs[At]] = At;
let Ds = !1;
try {
  Ds = typeof XMLHttpRequest < "u" && "withCredentials" in new XMLHttpRequest();
} catch {
}
const ra = Ds;
function ks(n) {
  const e = n.xdomain;
  try {
    if (typeof XMLHttpRequest < "u" && (!e || ra))
      return new XMLHttpRequest();
  } catch {
  }
  if (!e)
    try {
      return new he[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP");
    } catch {
    }
}
function sa() {
}
const ia = function() {
  return new ks({
    xdomain: !1
  }).responseType != null;
}();
class oa extends Hn {
  constructor(e) {
    if (super(e), this.polling = !1, typeof location < "u") {
      const r = location.protocol === "https:";
      let s = location.port;
      s || (s = r ? "443" : "80"), this.xd = typeof location < "u" && e.hostname !== location.hostname || s !== e.port;
    }
    const t = e && e.forceBase64;
    this.supportsBinary = ia && !t, this.opts.withCredentials && (this.cookieJar = void 0);
  }
  get name() {
    return "polling";
  }
  doOpen() {
    this.poll();
  }
  pause(e) {
    this.readyState = "pausing";
    const t = () => {
      this.readyState = "paused", e();
    };
    if (this.polling || !this.writable) {
      let r = 0;
      this.polling && (r++, this.once("pollComplete", function() {
        --r || t();
      })), this.writable || (r++, this.once("drain", function() {
        --r || t();
      }));
    } else
      t();
  }
  poll() {
    this.polling = !0, this.doPoll(), this.emitReserved("poll");
  }
  onData(e) {
    const t = (r) => {
      if (this.readyState === "opening" && r.type === "open" && this.onOpen(), r.type === "close")
        return this.onClose({ description: "transport closed by the server" }), !1;
      this.onPacket(r);
    };
    Wo(e, this.socket.binaryType).forEach(t), this.readyState !== "closed" && (this.polling = !1, this.emitReserved("pollComplete"), this.readyState === "open" && this.poll());
  }
  doClose() {
    const e = () => {
      this.write([{ type: "close" }]);
    };
    this.readyState === "open" ? e() : this.once("open", e);
  }
  write(e) {
    this.writable = !1, Mo(e, (t) => {
      this.doWrite(t, () => {
        this.writable = !0, this.emitReserved("drain");
      });
    });
  }
  uri() {
    const e = this.opts.secure ? "https" : "http", t = this.query || {};
    return this.opts.timestampRequests !== !1 && (t[this.opts.timestampParam] = As()), !this.supportsBinary && !t.sid && (t.b64 = 1), this.createUri(e, t);
  }
  request(e = {}) {
    return Object.assign(e, { xd: this.xd, cookieJar: this.cookieJar }, this.opts), new me(this.uri(), e);
  }
  doWrite(e, t) {
    const r = this.request({
      method: "POST",
      data: e
    });
    r.on("success", t), r.on("error", (s, i) => {
      this.onError("xhr post error", s, i);
    });
  }
  doPoll() {
    const e = this.request();
    e.on("data", this.onData.bind(this)), e.on("error", (t, r) => {
      this.onError("xhr poll error", t, r);
    }), this.pollXhr = e;
  }
}
class me extends K {
  constructor(e, t) {
    super(), Mt(this, t), this.opts = t, this.method = t.method || "GET", this.uri = e, this.data = t.data !== void 0 ? t.data : null, this.create();
  }
  create() {
    var e;
    const t = xs(this.opts, "agent", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "autoUnref");
    t.xdomain = !!this.opts.xd;
    const r = this.xhr = new ks(t);
    try {
      r.open(this.method, this.uri, !0);
      try {
        if (this.opts.extraHeaders) {
          r.setDisableHeaderCheck && r.setDisableHeaderCheck(!0);
          for (let s in this.opts.extraHeaders)
            this.opts.extraHeaders.hasOwnProperty(s) && r.setRequestHeader(s, this.opts.extraHeaders[s]);
        }
      } catch {
      }
      if (this.method === "POST")
        try {
          r.setRequestHeader("Content-type", "text/plain;charset=UTF-8");
        } catch {
        }
      try {
        r.setRequestHeader("Accept", "*/*");
      } catch {
      }
      (e = this.opts.cookieJar) === null || e === void 0 || e.addCookies(r), "withCredentials" in r && (r.withCredentials = this.opts.withCredentials), this.opts.requestTimeout && (r.timeout = this.opts.requestTimeout), r.onreadystatechange = () => {
        var s;
        r.readyState === 3 && ((s = this.opts.cookieJar) === null || s === void 0 || s.parseCookies(r)), r.readyState === 4 && (r.status === 200 || r.status === 1223 ? this.onLoad() : this.setTimeoutFn(() => {
          this.onError(typeof r.status == "number" ? r.status : 0);
        }, 0));
      }, r.send(this.data);
    } catch (s) {
      this.setTimeoutFn(() => {
        this.onError(s);
      }, 0);
      return;
    }
    typeof document < "u" && (this.index = me.requestsCount++, me.requests[this.index] = this);
  }
  onError(e) {
    this.emitReserved("error", e, this.xhr), this.cleanup(!0);
  }
  cleanup(e) {
    if (!(typeof this.xhr > "u" || this.xhr === null)) {
      if (this.xhr.onreadystatechange = sa, e)
        try {
          this.xhr.abort();
        } catch {
        }
      typeof document < "u" && delete me.requests[this.index], this.xhr = null;
    }
  }
  onLoad() {
    const e = this.xhr.responseText;
    e !== null && (this.emitReserved("data", e), this.emitReserved("success"), this.cleanup());
  }
  abort() {
    this.cleanup();
  }
}
me.requestsCount = 0;
me.requests = {};
if (typeof document < "u") {
  if (typeof attachEvent == "function")
    attachEvent("onunload", $r);
  else if (typeof addEventListener == "function") {
    const n = "onpagehide" in he ? "pagehide" : "unload";
    addEventListener(n, $r, !1);
  }
}
function $r() {
  for (let n in me.requests)
    me.requests.hasOwnProperty(n) && me.requests[n].abort();
}
const Jn = (() => typeof Promise == "function" && typeof Promise.resolve == "function" ? (e) => Promise.resolve().then(e) : (e, t) => t(e, 0))(), Dt = he.WebSocket || he.MozWebSocket, Mr = !0, aa = "arraybuffer", Wr = typeof navigator < "u" && typeof navigator.product == "string" && navigator.product.toLowerCase() === "reactnative";
class ua extends Hn {
  constructor(e) {
    super(e), this.supportsBinary = !e.forceBase64;
  }
  get name() {
    return "websocket";
  }
  doOpen() {
    if (!this.check())
      return;
    const e = this.uri(), t = this.opts.protocols, r = Wr ? {} : xs(this.opts, "agent", "perMessageDeflate", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "localAddress", "protocolVersion", "origin", "maxPayload", "family", "checkServerIdentity");
    this.opts.extraHeaders && (r.headers = this.opts.extraHeaders);
    try {
      this.ws = Mr && !Wr ? t ? new Dt(e, t) : new Dt(e) : new Dt(e, t, r);
    } catch (s) {
      return this.emitReserved("error", s);
    }
    this.ws.binaryType = this.socket.binaryType, this.addEventListeners();
  }
  addEventListeners() {
    this.ws.onopen = () => {
      this.opts.autoUnref && this.ws._socket.unref(), this.onOpen();
    }, this.ws.onclose = (e) => this.onClose({
      description: "websocket connection closed",
      context: e
    }), this.ws.onmessage = (e) => this.onData(e.data), this.ws.onerror = (e) => this.onError("websocket error", e);
  }
  write(e) {
    this.writable = !1;
    for (let t = 0; t < e.length; t++) {
      const r = e[t], s = t === e.length - 1;
      Mn(r, this.supportsBinary, (i) => {
        const o = {};
        try {
          Mr && this.ws.send(i);
        } catch {
        }
        s && Jn(() => {
          this.writable = !0, this.emitReserved("drain");
        }, this.setTimeoutFn);
      });
    }
  }
  doClose() {
    typeof this.ws < "u" && (this.ws.close(), this.ws = null);
  }
  uri() {
    const e = this.opts.secure ? "wss" : "ws", t = this.query || {};
    return this.opts.timestampRequests && (t[this.opts.timestampParam] = As()), this.supportsBinary || (t.b64 = 1), this.createUri(e, t);
  }
  check() {
    return !!Dt;
  }
}
class ca extends Hn {
  get name() {
    return "webtransport";
  }
  doOpen() {
    typeof WebTransport == "function" && (this.transport = new WebTransport(this.createUri("https"), this.opts.transportOptions[this.name]), this.transport.closed.then(() => {
      this.onClose();
    }).catch((e) => {
      this.onError("webtransport error", e);
    }), this.transport.ready.then(() => {
      this.transport.createBidirectionalStream().then((e) => {
        const t = Jo(Number.MAX_SAFE_INTEGER, this.socket.binaryType), r = e.readable.pipeThrough(t).getReader(), s = Ho();
        s.readable.pipeTo(e.writable), this.writer = s.writable.getWriter();
        const i = () => {
          r.read().then(({ done: u, value: l }) => {
            u || (this.onPacket(l), i());
          }).catch((u) => {
          });
        };
        i();
        const o = { type: "open" };
        this.query.sid && (o.data = `{"sid":"${this.query.sid}"}`), this.writer.write(o).then(() => this.onOpen());
      });
    }));
  }
  write(e) {
    this.writable = !1;
    for (let t = 0; t < e.length; t++) {
      const r = e[t], s = t === e.length - 1;
      this.writer.write(r).then(() => {
        s && Jn(() => {
          this.writable = !0, this.emitReserved("drain");
        }, this.setTimeoutFn);
      });
    }
  }
  doClose() {
    var e;
    (e = this.transport) === null || e === void 0 || e.close();
  }
}
const la = {
  websocket: ua,
  webtransport: ca,
  polling: oa
}, fa = /^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, ha = [
  "source",
  "protocol",
  "authority",
  "userInfo",
  "user",
  "password",
  "host",
  "port",
  "relative",
  "path",
  "directory",
  "file",
  "query",
  "anchor"
];
function kn(n) {
  const e = n, t = n.indexOf("["), r = n.indexOf("]");
  t != -1 && r != -1 && (n = n.substring(0, t) + n.substring(t, r).replace(/:/g, ";") + n.substring(r, n.length));
  let s = fa.exec(n || ""), i = {}, o = 14;
  for (; o--; )
    i[ha[o]] = s[o] || "";
  return t != -1 && r != -1 && (i.source = e, i.host = i.host.substring(1, i.host.length - 1).replace(/;/g, ":"), i.authority = i.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), i.ipv6uri = !0), i.pathNames = da(i, i.path), i.queryKey = pa(i, i.query), i;
}
function da(n, e) {
  const t = /\/{2,9}/g, r = e.replace(t, "/").split("/");
  return (e.slice(0, 1) == "/" || e.length === 0) && r.splice(0, 1), e.slice(-1) == "/" && r.splice(r.length - 1, 1), r;
}
function pa(n, e) {
  const t = {};
  return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function(r, s, i) {
    s && (t[s] = i);
  }), t;
}
class Ce extends K {
  constructor(e, t = {}) {
    super(), this.binaryType = aa, this.writeBuffer = [], e && typeof e == "object" && (t = e, e = null), e ? (e = kn(e), t.hostname = e.host, t.secure = e.protocol === "https" || e.protocol === "wss", t.port = e.port, e.query && (t.query = e.query)) : t.host && (t.hostname = kn(t.host).host), Mt(this, t), this.secure = t.secure != null ? t.secure : typeof location < "u" && location.protocol === "https:", t.hostname && !t.port && (t.port = this.secure ? "443" : "80"), this.hostname = t.hostname || (typeof location < "u" ? location.hostname : "localhost"), this.port = t.port || (typeof location < "u" && location.port ? location.port : this.secure ? "443" : "80"), this.transports = t.transports || [
      "polling",
      "websocket",
      "webtransport"
    ], this.writeBuffer = [], this.prevBufferLen = 0, this.opts = Object.assign({
      path: "/engine.io",
      agent: !1,
      withCredentials: !1,
      upgrade: !0,
      timestampParam: "t",
      rememberUpgrade: !1,
      addTrailingSlash: !0,
      rejectUnauthorized: !0,
      perMessageDeflate: {
        threshold: 1024
      },
      transportOptions: {},
      closeOnBeforeunload: !1
    }, t), this.opts.path = this.opts.path.replace(/\/$/, "") + (this.opts.addTrailingSlash ? "/" : ""), typeof this.opts.query == "string" && (this.opts.query = ea(this.opts.query)), this.id = null, this.upgrades = null, this.pingInterval = null, this.pingTimeout = null, this.pingTimeoutTimer = null, typeof addEventListener == "function" && (this.opts.closeOnBeforeunload && (this.beforeunloadEventListener = () => {
      this.transport && (this.transport.removeAllListeners(), this.transport.close());
    }, addEventListener("beforeunload", this.beforeunloadEventListener, !1)), this.hostname !== "localhost" && (this.offlineEventListener = () => {
      this.onClose("transport close", {
        description: "network connection lost"
      });
    }, addEventListener("offline", this.offlineEventListener, !1))), this.open();
  }
  createTransport(e) {
    const t = Object.assign({}, this.opts.query);
    t.EIO = Os, t.transport = e, this.id && (t.sid = this.id);
    const r = Object.assign({}, this.opts, {
      query: t,
      socket: this,
      hostname: this.hostname,
      secure: this.secure,
      port: this.port
    }, this.opts.transportOptions[e]);
    return new la[e](r);
  }
  open() {
    let e;
    if (this.opts.rememberUpgrade && Ce.priorWebsocketSuccess && this.transports.indexOf("websocket") !== -1)
      e = "websocket";
    else if (this.transports.length === 0) {
      this.setTimeoutFn(() => {
        this.emitReserved("error", "No transports available");
      }, 0);
      return;
    } else
      e = this.transports[0];
    this.readyState = "opening";
    try {
      e = this.createTransport(e);
    } catch {
      this.transports.shift(), this.open();
      return;
    }
    e.open(), this.setTransport(e);
  }
  setTransport(e) {
    this.transport && this.transport.removeAllListeners(), this.transport = e, e.on("drain", this.onDrain.bind(this)).on("packet", this.onPacket.bind(this)).on("error", this.onError.bind(this)).on("close", (t) => this.onClose("transport close", t));
  }
  probe(e) {
    let t = this.createTransport(e), r = !1;
    Ce.priorWebsocketSuccess = !1;
    const s = () => {
      r || (t.send([{ type: "ping", data: "probe" }]), t.once("packet", (f) => {
        if (!r)
          if (f.type === "pong" && f.data === "probe") {
            if (this.upgrading = !0, this.emitReserved("upgrading", t), !t)
              return;
            Ce.priorWebsocketSuccess = t.name === "websocket", this.transport.pause(() => {
              r || this.readyState !== "closed" && (h(), this.setTransport(t), t.send([{ type: "upgrade" }]), this.emitReserved("upgrade", t), t = null, this.upgrading = !1, this.flush());
            });
          } else {
            const p = new Error("probe error");
            p.transport = t.name, this.emitReserved("upgradeError", p);
          }
      }));
    };
    function i() {
      r || (r = !0, h(), t.close(), t = null);
    }
    const o = (f) => {
      const p = new Error("probe error: " + f);
      p.transport = t.name, i(), this.emitReserved("upgradeError", p);
    };
    function u() {
      o("transport closed");
    }
    function l() {
      o("socket closed");
    }
    function a(f) {
      t && f.name !== t.name && i();
    }
    const h = () => {
      t.removeListener("open", s), t.removeListener("error", o), t.removeListener("close", u), this.off("close", l), this.off("upgrading", a);
    };
    t.once("open", s), t.once("error", o), t.once("close", u), this.once("close", l), this.once("upgrading", a), this.upgrades.indexOf("webtransport") !== -1 && e !== "webtransport" ? this.setTimeoutFn(() => {
      r || t.open();
    }, 200) : t.open();
  }
  onOpen() {
    if (this.readyState = "open", Ce.priorWebsocketSuccess = this.transport.name === "websocket", this.emitReserved("open"), this.flush(), this.readyState === "open" && this.opts.upgrade) {
      let e = 0;
      const t = this.upgrades.length;
      for (; e < t; e++)
        this.probe(this.upgrades[e]);
    }
  }
  onPacket(e) {
    if (this.readyState === "opening" || this.readyState === "open" || this.readyState === "closing")
      switch (this.emitReserved("packet", e), this.emitReserved("heartbeat"), this.resetPingTimeout(), e.type) {
        case "open":
          this.onHandshake(JSON.parse(e.data));
          break;
        case "ping":
          this.sendPacket("pong"), this.emitReserved("ping"), this.emitReserved("pong");
          break;
        case "error":
          const t = new Error("server error");
          t.code = e.data, this.onError(t);
          break;
        case "message":
          this.emitReserved("data", e.data), this.emitReserved("message", e.data);
          break;
      }
  }
  onHandshake(e) {
    this.emitReserved("handshake", e), this.id = e.sid, this.transport.query.sid = e.sid, this.upgrades = this.filterUpgrades(e.upgrades), this.pingInterval = e.pingInterval, this.pingTimeout = e.pingTimeout, this.maxPayload = e.maxPayload, this.onOpen(), this.readyState !== "closed" && this.resetPingTimeout();
  }
  resetPingTimeout() {
    this.clearTimeoutFn(this.pingTimeoutTimer), this.pingTimeoutTimer = this.setTimeoutFn(() => {
      this.onClose("ping timeout");
    }, this.pingInterval + this.pingTimeout), this.opts.autoUnref && this.pingTimeoutTimer.unref();
  }
  onDrain() {
    this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, this.writeBuffer.length === 0 ? this.emitReserved("drain") : this.flush();
  }
  flush() {
    if (this.readyState !== "closed" && this.transport.writable && !this.upgrading && this.writeBuffer.length) {
      const e = this.getWritablePackets();
      this.transport.send(e), this.prevBufferLen = e.length, this.emitReserved("flush");
    }
  }
  getWritablePackets() {
    if (!(this.maxPayload && this.transport.name === "polling" && this.writeBuffer.length > 1))
      return this.writeBuffer;
    let t = 1;
    for (let r = 0; r < this.writeBuffer.length; r++) {
      const s = this.writeBuffer[r].data;
      if (s && (t += Xo(s)), r > 0 && t > this.maxPayload)
        return this.writeBuffer.slice(0, r);
      t += 2;
    }
    return this.writeBuffer;
  }
  write(e, t, r) {
    return this.sendPacket("message", e, t, r), this;
  }
  send(e, t, r) {
    return this.sendPacket("message", e, t, r), this;
  }
  sendPacket(e, t, r, s) {
    if (typeof t == "function" && (s = t, t = void 0), typeof r == "function" && (s = r, r = null), this.readyState === "closing" || this.readyState === "closed")
      return;
    r = r || {}, r.compress = r.compress !== !1;
    const i = {
      type: e,
      data: t,
      options: r
    };
    this.emitReserved("packetCreate", i), this.writeBuffer.push(i), s && this.once("flush", s), this.flush();
  }
  close() {
    const e = () => {
      this.onClose("forced close"), this.transport.close();
    }, t = () => {
      this.off("upgrade", t), this.off("upgradeError", t), e();
    }, r = () => {
      this.once("upgrade", t), this.once("upgradeError", t);
    };
    return (this.readyState === "opening" || this.readyState === "open") && (this.readyState = "closing", this.writeBuffer.length ? this.once("drain", () => {
      this.upgrading ? r() : e();
    }) : this.upgrading ? r() : e()), this;
  }
  onError(e) {
    Ce.priorWebsocketSuccess = !1, this.emitReserved("error", e), this.onClose("transport error", e);
  }
  onClose(e, t) {
    (this.readyState === "opening" || this.readyState === "open" || this.readyState === "closing") && (this.clearTimeoutFn(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), typeof removeEventListener == "function" && (removeEventListener("beforeunload", this.beforeunloadEventListener, !1), removeEventListener("offline", this.offlineEventListener, !1)), this.readyState = "closed", this.id = null, this.emitReserved("close", e, t), this.writeBuffer = [], this.prevBufferLen = 0);
  }
  filterUpgrades(e) {
    const t = [];
    let r = 0;
    const s = e.length;
    for (; r < s; r++)
      ~this.transports.indexOf(e[r]) && t.push(e[r]);
    return t;
  }
}
Ce.protocol = Os;
function va(n, e = "", t) {
  let r = n;
  t = t || typeof location < "u" && location, n == null && (n = t.protocol + "//" + t.host), typeof n == "string" && (n.charAt(0) === "/" && (n.charAt(1) === "/" ? n = t.protocol + n : n = t.host + n), /^(https?|wss?):\/\//.test(n) || (typeof t < "u" ? n = t.protocol + "//" + n : n = "https://" + n), r = kn(n)), r.port || (/^(http|ws)$/.test(r.protocol) ? r.port = "80" : /^(http|ws)s$/.test(r.protocol) && (r.port = "443")), r.path = r.path || "/";
  const i = r.host.indexOf(":") !== -1 ? "[" + r.host + "]" : r.host;
  return r.id = r.protocol + "://" + i + ":" + r.port + e, r.href = r.protocol + "://" + i + (t && t.port === r.port ? "" : ":" + r.port), r;
}
const ya = typeof ArrayBuffer == "function", ma = (n) => typeof ArrayBuffer.isView == "function" ? ArrayBuffer.isView(n) : n.buffer instanceof ArrayBuffer, Ls = Object.prototype.toString, ga = typeof Blob == "function" || typeof Blob < "u" && Ls.call(Blob) === "[object BlobConstructor]", _a = typeof File == "function" || typeof File < "u" && Ls.call(File) === "[object FileConstructor]";
function Yn(n) {
  return ya && (n instanceof ArrayBuffer || ma(n)) || ga && n instanceof Blob || _a && n instanceof File;
}
function Pt(n, e) {
  if (!n || typeof n != "object")
    return !1;
  if (Array.isArray(n)) {
    for (let t = 0, r = n.length; t < r; t++)
      if (Pt(n[t]))
        return !0;
    return !1;
  }
  if (Yn(n))
    return !0;
  if (n.toJSON && typeof n.toJSON == "function" && arguments.length === 1)
    return Pt(n.toJSON(), !0);
  for (const t in n)
    if (Object.prototype.hasOwnProperty.call(n, t) && Pt(n[t]))
      return !0;
  return !1;
}
function ba(n) {
  const e = [], t = n.data, r = n;
  return r.data = Ln(t, e), r.attachments = e.length, { packet: r, buffers: e };
}
function Ln(n, e) {
  if (!n)
    return n;
  if (Yn(n)) {
    const t = { _placeholder: !0, num: e.length };
    return e.push(n), t;
  } else if (Array.isArray(n)) {
    const t = new Array(n.length);
    for (let r = 0; r < n.length; r++)
      t[r] = Ln(n[r], e);
    return t;
  } else if (typeof n == "object" && !(n instanceof Date)) {
    const t = {};
    for (const r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (t[r] = Ln(n[r], e));
    return t;
  }
  return n;
}
function wa(n, e) {
  return n.data = Nn(n.data, e), delete n.attachments, n;
}
function Nn(n, e) {
  if (!n)
    return n;
  if (n && n._placeholder === !0) {
    if (typeof n.num == "number" && n.num >= 0 && n.num < e.length)
      return e[n.num];
    throw new Error("illegal attachments");
  } else if (Array.isArray(n))
    for (let t = 0; t < n.length; t++)
      n[t] = Nn(n[t], e);
  else if (typeof n == "object")
    for (const t in n)
      Object.prototype.hasOwnProperty.call(n, t) && (n[t] = Nn(n[t], e));
  return n;
}
const Ea = [
  "connect",
  "connect_error",
  "disconnect",
  "disconnecting",
  "newListener",
  "removeListener"
], Ra = 5;
var O;
(function(n) {
  n[n.CONNECT = 0] = "CONNECT", n[n.DISCONNECT = 1] = "DISCONNECT", n[n.EVENT = 2] = "EVENT", n[n.ACK = 3] = "ACK", n[n.CONNECT_ERROR = 4] = "CONNECT_ERROR", n[n.BINARY_EVENT = 5] = "BINARY_EVENT", n[n.BINARY_ACK = 6] = "BINARY_ACK";
})(O || (O = {}));
class Sa {
  constructor(e) {
    this.replacer = e;
  }
  encode(e) {
    return (e.type === O.EVENT || e.type === O.ACK) && Pt(e) ? this.encodeAsBinary({
      type: e.type === O.EVENT ? O.BINARY_EVENT : O.BINARY_ACK,
      nsp: e.nsp,
      data: e.data,
      id: e.id
    }) : [this.encodeAsString(e)];
  }
  encodeAsString(e) {
    let t = "" + e.type;
    return (e.type === O.BINARY_EVENT || e.type === O.BINARY_ACK) && (t += e.attachments + "-"), e.nsp && e.nsp !== "/" && (t += e.nsp + ","), e.id != null && (t += e.id), e.data != null && (t += JSON.stringify(e.data, this.replacer)), t;
  }
  encodeAsBinary(e) {
    const t = ba(e), r = this.encodeAsString(t.packet), s = t.buffers;
    return s.unshift(r), s;
  }
}
function Hr(n) {
  return Object.prototype.toString.call(n) === "[object Object]";
}
class zn extends K {
  constructor(e) {
    super(), this.reviver = e;
  }
  add(e) {
    let t;
    if (typeof e == "string") {
      if (this.reconstructor)
        throw new Error("got plaintext data when reconstructing a packet");
      t = this.decodeString(e);
      const r = t.type === O.BINARY_EVENT;
      r || t.type === O.BINARY_ACK ? (t.type = r ? O.EVENT : O.ACK, this.reconstructor = new Ta(t), t.attachments === 0 && super.emitReserved("decoded", t)) : super.emitReserved("decoded", t);
    } else if (Yn(e) || e.base64)
      if (this.reconstructor)
        t = this.reconstructor.takeBinaryData(e), t && (this.reconstructor = null, super.emitReserved("decoded", t));
      else
        throw new Error("got binary data when not reconstructing a packet");
    else
      throw new Error("Unknown type: " + e);
  }
  decodeString(e) {
    let t = 0;
    const r = {
      type: Number(e.charAt(0))
    };
    if (O[r.type] === void 0)
      throw new Error("unknown packet type " + r.type);
    if (r.type === O.BINARY_EVENT || r.type === O.BINARY_ACK) {
      const i = t + 1;
      for (; e.charAt(++t) !== "-" && t != e.length; )
        ;
      const o = e.substring(i, t);
      if (o != Number(o) || e.charAt(t) !== "-")
        throw new Error("Illegal attachments");
      r.attachments = Number(o);
    }
    if (e.charAt(t + 1) === "/") {
      const i = t + 1;
      for (; ++t && !(e.charAt(t) === "," || t === e.length); )
        ;
      r.nsp = e.substring(i, t);
    } else
      r.nsp = "/";
    const s = e.charAt(t + 1);
    if (s !== "" && Number(s) == s) {
      const i = t + 1;
      for (; ++t; ) {
        const o = e.charAt(t);
        if (o == null || Number(o) != o) {
          --t;
          break;
        }
        if (t === e.length)
          break;
      }
      r.id = Number(e.substring(i, t + 1));
    }
    if (e.charAt(++t)) {
      const i = this.tryParse(e.substr(t));
      if (zn.isPayloadValid(r.type, i))
        r.data = i;
      else
        throw new Error("invalid payload");
    }
    return r;
  }
  tryParse(e) {
    try {
      return JSON.parse(e, this.reviver);
    } catch {
      return !1;
    }
  }
  static isPayloadValid(e, t) {
    switch (e) {
      case O.CONNECT:
        return Hr(t);
      case O.DISCONNECT:
        return t === void 0;
      case O.CONNECT_ERROR:
        return typeof t == "string" || Hr(t);
      case O.EVENT:
      case O.BINARY_EVENT:
        return Array.isArray(t) && (typeof t[0] == "number" || typeof t[0] == "string" && Ea.indexOf(t[0]) === -1);
      case O.ACK:
      case O.BINARY_ACK:
        return Array.isArray(t);
    }
  }
  destroy() {
    this.reconstructor && (this.reconstructor.finishedReconstruction(), this.reconstructor = null);
  }
}
class Ta {
  constructor(e) {
    this.packet = e, this.buffers = [], this.reconPack = e;
  }
  takeBinaryData(e) {
    if (this.buffers.push(e), this.buffers.length === this.reconPack.attachments) {
      const t = wa(this.reconPack, this.buffers);
      return this.finishedReconstruction(), t;
    }
    return null;
  }
  finishedReconstruction() {
    this.reconPack = null, this.buffers = [];
  }
}
const Oa = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  protocol: Ra,
  get PacketType() {
    return O;
  },
  Encoder: Sa,
  Decoder: zn
}, Symbol.toStringTag, { value: "Module" }));
function pe(n, e, t) {
  return n.on(e, t), function() {
    n.off(e, t);
  };
}
const xa = Object.freeze({
  connect: 1,
  connect_error: 1,
  disconnect: 1,
  disconnecting: 1,
  newListener: 1,
  removeListener: 1
});
class Ns extends K {
  constructor(e, t, r) {
    super(), this.connected = !1, this.recovered = !1, this.receiveBuffer = [], this.sendBuffer = [], this._queue = [], this._queueSeq = 0, this.ids = 0, this.acks = {}, this.flags = {}, this.io = e, this.nsp = t, r && r.auth && (this.auth = r.auth), this._opts = Object.assign({}, r), this.io._autoConnect && this.open();
  }
  get disconnected() {
    return !this.connected;
  }
  subEvents() {
    if (this.subs)
      return;
    const e = this.io;
    this.subs = [
      pe(e, "open", this.onopen.bind(this)),
      pe(e, "packet", this.onpacket.bind(this)),
      pe(e, "error", this.onerror.bind(this)),
      pe(e, "close", this.onclose.bind(this))
    ];
  }
  get active() {
    return !!this.subs;
  }
  connect() {
    return this.connected ? this : (this.subEvents(), this.io._reconnecting || this.io.open(), this.io._readyState === "open" && this.onopen(), this);
  }
  open() {
    return this.connect();
  }
  send(...e) {
    return e.unshift("message"), this.emit.apply(this, e), this;
  }
  emit(e, ...t) {
    if (xa.hasOwnProperty(e))
      throw new Error('"' + e.toString() + '" is a reserved event name');
    if (t.unshift(e), this._opts.retries && !this.flags.fromQueue && !this.flags.volatile)
      return this._addToQueue(t), this;
    const r = {
      type: O.EVENT,
      data: t
    };
    if (r.options = {}, r.options.compress = this.flags.compress !== !1, typeof t[t.length - 1] == "function") {
      const o = this.ids++, u = t.pop();
      this._registerAckCallback(o, u), r.id = o;
    }
    const s = this.io.engine && this.io.engine.transport && this.io.engine.transport.writable;
    return this.flags.volatile && (!s || !this.connected) || (this.connected ? (this.notifyOutgoingListeners(r), this.packet(r)) : this.sendBuffer.push(r)), this.flags = {}, this;
  }
  _registerAckCallback(e, t) {
    var r;
    const s = (r = this.flags.timeout) !== null && r !== void 0 ? r : this._opts.ackTimeout;
    if (s === void 0) {
      this.acks[e] = t;
      return;
    }
    const i = this.io.setTimeoutFn(() => {
      delete this.acks[e];
      for (let o = 0; o < this.sendBuffer.length; o++)
        this.sendBuffer[o].id === e && this.sendBuffer.splice(o, 1);
      t.call(this, new Error("operation has timed out"));
    }, s);
    this.acks[e] = (...o) => {
      this.io.clearTimeoutFn(i), t.apply(this, [null, ...o]);
    };
  }
  emitWithAck(e, ...t) {
    const r = this.flags.timeout !== void 0 || this._opts.ackTimeout !== void 0;
    return new Promise((s, i) => {
      t.push((o, u) => r ? o ? i(o) : s(u) : s(o)), this.emit(e, ...t);
    });
  }
  _addToQueue(e) {
    let t;
    typeof e[e.length - 1] == "function" && (t = e.pop());
    const r = {
      id: this._queueSeq++,
      tryCount: 0,
      pending: !1,
      args: e,
      flags: Object.assign({ fromQueue: !0 }, this.flags)
    };
    e.push((s, ...i) => r !== this._queue[0] ? void 0 : (s !== null ? r.tryCount > this._opts.retries && (this._queue.shift(), t && t(s)) : (this._queue.shift(), t && t(null, ...i)), r.pending = !1, this._drainQueue())), this._queue.push(r), this._drainQueue();
  }
  _drainQueue(e = !1) {
    if (!this.connected || this._queue.length === 0)
      return;
    const t = this._queue[0];
    t.pending && !e || (t.pending = !0, t.tryCount++, this.flags = t.flags, this.emit.apply(this, t.args));
  }
  packet(e) {
    e.nsp = this.nsp, this.io._packet(e);
  }
  onopen() {
    typeof this.auth == "function" ? this.auth((e) => {
      this._sendConnectPacket(e);
    }) : this._sendConnectPacket(this.auth);
  }
  _sendConnectPacket(e) {
    this.packet({
      type: O.CONNECT,
      data: this._pid ? Object.assign({ pid: this._pid, offset: this._lastOffset }, e) : e
    });
  }
  onerror(e) {
    this.connected || this.emitReserved("connect_error", e);
  }
  onclose(e, t) {
    this.connected = !1, delete this.id, this.emitReserved("disconnect", e, t);
  }
  onpacket(e) {
    if (e.nsp === this.nsp)
      switch (e.type) {
        case O.CONNECT:
          e.data && e.data.sid ? this.onconnect(e.data.sid, e.data.pid) : this.emitReserved("connect_error", new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));
          break;
        case O.EVENT:
        case O.BINARY_EVENT:
          this.onevent(e);
          break;
        case O.ACK:
        case O.BINARY_ACK:
          this.onack(e);
          break;
        case O.DISCONNECT:
          this.ondisconnect();
          break;
        case O.CONNECT_ERROR:
          this.destroy();
          const r = new Error(e.data.message);
          r.data = e.data.data, this.emitReserved("connect_error", r);
          break;
      }
  }
  onevent(e) {
    const t = e.data || [];
    e.id != null && t.push(this.ack(e.id)), this.connected ? this.emitEvent(t) : this.receiveBuffer.push(Object.freeze(t));
  }
  emitEvent(e) {
    if (this._anyListeners && this._anyListeners.length) {
      const t = this._anyListeners.slice();
      for (const r of t)
        r.apply(this, e);
    }
    super.emit.apply(this, e), this._pid && e.length && typeof e[e.length - 1] == "string" && (this._lastOffset = e[e.length - 1]);
  }
  ack(e) {
    const t = this;
    let r = !1;
    return function(...s) {
      r || (r = !0, t.packet({
        type: O.ACK,
        id: e,
        data: s
      }));
    };
  }
  onack(e) {
    const t = this.acks[e.id];
    typeof t == "function" && (t.apply(this, e.data), delete this.acks[e.id]);
  }
  onconnect(e, t) {
    this.id = e, this.recovered = t && this._pid === t, this._pid = t, this.connected = !0, this.emitBuffered(), this.emitReserved("connect"), this._drainQueue(!0);
  }
  emitBuffered() {
    this.receiveBuffer.forEach((e) => this.emitEvent(e)), this.receiveBuffer = [], this.sendBuffer.forEach((e) => {
      this.notifyOutgoingListeners(e), this.packet(e);
    }), this.sendBuffer = [];
  }
  ondisconnect() {
    this.destroy(), this.onclose("io server disconnect");
  }
  destroy() {
    this.subs && (this.subs.forEach((e) => e()), this.subs = void 0), this.io._destroy(this);
  }
  disconnect() {
    return this.connected && this.packet({ type: O.DISCONNECT }), this.destroy(), this.connected && this.onclose("io client disconnect"), this;
  }
  close() {
    return this.disconnect();
  }
  compress(e) {
    return this.flags.compress = e, this;
  }
  get volatile() {
    return this.flags.volatile = !0, this;
  }
  timeout(e) {
    return this.flags.timeout = e, this;
  }
  onAny(e) {
    return this._anyListeners = this._anyListeners || [], this._anyListeners.push(e), this;
  }
  prependAny(e) {
    return this._anyListeners = this._anyListeners || [], this._anyListeners.unshift(e), this;
  }
  offAny(e) {
    if (!this._anyListeners)
      return this;
    if (e) {
      const t = this._anyListeners;
      for (let r = 0; r < t.length; r++)
        if (e === t[r])
          return t.splice(r, 1), this;
    } else
      this._anyListeners = [];
    return this;
  }
  listenersAny() {
    return this._anyListeners || [];
  }
  onAnyOutgoing(e) {
    return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.push(e), this;
  }
  prependAnyOutgoing(e) {
    return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.unshift(e), this;
  }
  offAnyOutgoing(e) {
    if (!this._anyOutgoingListeners)
      return this;
    if (e) {
      const t = this._anyOutgoingListeners;
      for (let r = 0; r < t.length; r++)
        if (e === t[r])
          return t.splice(r, 1), this;
    } else
      this._anyOutgoingListeners = [];
    return this;
  }
  listenersAnyOutgoing() {
    return this._anyOutgoingListeners || [];
  }
  notifyOutgoingListeners(e) {
    if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {
      const t = this._anyOutgoingListeners.slice();
      for (const r of t)
        r.apply(this, e.data);
    }
  }
}
function Xe(n) {
  n = n || {}, this.ms = n.min || 100, this.max = n.max || 1e4, this.factor = n.factor || 2, this.jitter = n.jitter > 0 && n.jitter <= 1 ? n.jitter : 0, this.attempts = 0;
}
Xe.prototype.duration = function() {
  var n = this.ms * Math.pow(this.factor, this.attempts++);
  if (this.jitter) {
    var e = Math.random(), t = Math.floor(e * this.jitter * n);
    n = (Math.floor(e * 10) & 1) == 0 ? n - t : n + t;
  }
  return Math.min(n, this.max) | 0;
};
Xe.prototype.reset = function() {
  this.attempts = 0;
};
Xe.prototype.setMin = function(n) {
  this.ms = n;
};
Xe.prototype.setMax = function(n) {
  this.max = n;
};
Xe.prototype.setJitter = function(n) {
  this.jitter = n;
};
class Pn extends K {
  constructor(e, t) {
    var r;
    super(), this.nsps = {}, this.subs = [], e && typeof e == "object" && (t = e, e = void 0), t = t || {}, t.path = t.path || "/socket.io", this.opts = t, Mt(this, t), this.reconnection(t.reconnection !== !1), this.reconnectionAttempts(t.reconnectionAttempts || 1 / 0), this.reconnectionDelay(t.reconnectionDelay || 1e3), this.reconnectionDelayMax(t.reconnectionDelayMax || 5e3), this.randomizationFactor((r = t.randomizationFactor) !== null && r !== void 0 ? r : 0.5), this.backoff = new Xe({
      min: this.reconnectionDelay(),
      max: this.reconnectionDelayMax(),
      jitter: this.randomizationFactor()
    }), this.timeout(t.timeout == null ? 2e4 : t.timeout), this._readyState = "closed", this.uri = e;
    const s = t.parser || Oa;
    this.encoder = new s.Encoder(), this.decoder = new s.Decoder(), this._autoConnect = t.autoConnect !== !1, this._autoConnect && this.open();
  }
  reconnection(e) {
    return arguments.length ? (this._reconnection = !!e, this) : this._reconnection;
  }
  reconnectionAttempts(e) {
    return e === void 0 ? this._reconnectionAttempts : (this._reconnectionAttempts = e, this);
  }
  reconnectionDelay(e) {
    var t;
    return e === void 0 ? this._reconnectionDelay : (this._reconnectionDelay = e, (t = this.backoff) === null || t === void 0 || t.setMin(e), this);
  }
  randomizationFactor(e) {
    var t;
    return e === void 0 ? this._randomizationFactor : (this._randomizationFactor = e, (t = this.backoff) === null || t === void 0 || t.setJitter(e), this);
  }
  reconnectionDelayMax(e) {
    var t;
    return e === void 0 ? this._reconnectionDelayMax : (this._reconnectionDelayMax = e, (t = this.backoff) === null || t === void 0 || t.setMax(e), this);
  }
  timeout(e) {
    return arguments.length ? (this._timeout = e, this) : this._timeout;
  }
  maybeReconnectOnOpen() {
    !this._reconnecting && this._reconnection && this.backoff.attempts === 0 && this.reconnect();
  }
  open(e) {
    if (~this._readyState.indexOf("open"))
      return this;
    this.engine = new Ce(this.uri, this.opts);
    const t = this.engine, r = this;
    this._readyState = "opening", this.skipReconnect = !1;
    const s = pe(t, "open", function() {
      r.onopen(), e && e();
    }), i = (u) => {
      this.cleanup(), this._readyState = "closed", this.emitReserved("error", u), e ? e(u) : this.maybeReconnectOnOpen();
    }, o = pe(t, "error", i);
    if (this._timeout !== !1) {
      const u = this._timeout, l = this.setTimeoutFn(() => {
        s(), i(new Error("timeout")), t.close();
      }, u);
      this.opts.autoUnref && l.unref(), this.subs.push(() => {
        this.clearTimeoutFn(l);
      });
    }
    return this.subs.push(s), this.subs.push(o), this;
  }
  connect(e) {
    return this.open(e);
  }
  onopen() {
    this.cleanup(), this._readyState = "open", this.emitReserved("open");
    const e = this.engine;
    this.subs.push(pe(e, "ping", this.onping.bind(this)), pe(e, "data", this.ondata.bind(this)), pe(e, "error", this.onerror.bind(this)), pe(e, "close", this.onclose.bind(this)), pe(this.decoder, "decoded", this.ondecoded.bind(this)));
  }
  onping() {
    this.emitReserved("ping");
  }
  ondata(e) {
    try {
      this.decoder.add(e);
    } catch (t) {
      this.onclose("parse error", t);
    }
  }
  ondecoded(e) {
    Jn(() => {
      this.emitReserved("packet", e);
    }, this.setTimeoutFn);
  }
  onerror(e) {
    this.emitReserved("error", e);
  }
  socket(e, t) {
    let r = this.nsps[e];
    return r ? this._autoConnect && !r.active && r.connect() : (r = new Ns(this, e, t), this.nsps[e] = r), r;
  }
  _destroy(e) {
    const t = Object.keys(this.nsps);
    for (const r of t)
      if (this.nsps[r].active)
        return;
    this._close();
  }
  _packet(e) {
    const t = this.encoder.encode(e);
    for (let r = 0; r < t.length; r++)
      this.engine.write(t[r], e.options);
  }
  cleanup() {
    this.subs.forEach((e) => e()), this.subs.length = 0, this.decoder.destroy();
  }
  _close() {
    this.skipReconnect = !0, this._reconnecting = !1, this.onclose("forced close"), this.engine && this.engine.close();
  }
  disconnect() {
    return this._close();
  }
  onclose(e, t) {
    this.cleanup(), this.backoff.reset(), this._readyState = "closed", this.emitReserved("close", e, t), this._reconnection && !this.skipReconnect && this.reconnect();
  }
  reconnect() {
    if (this._reconnecting || this.skipReconnect)
      return this;
    const e = this;
    if (this.backoff.attempts >= this._reconnectionAttempts)
      this.backoff.reset(), this.emitReserved("reconnect_failed"), this._reconnecting = !1;
    else {
      const t = this.backoff.duration();
      this._reconnecting = !0;
      const r = this.setTimeoutFn(() => {
        e.skipReconnect || (this.emitReserved("reconnect_attempt", e.backoff.attempts), !e.skipReconnect && e.open((s) => {
          s ? (e._reconnecting = !1, e.reconnect(), this.emitReserved("reconnect_error", s)) : e.onreconnect();
        }));
      }, t);
      this.opts.autoUnref && r.unref(), this.subs.push(() => {
        this.clearTimeoutFn(r);
      });
    }
  }
  onreconnect() {
    const e = this.backoff.attempts;
    this._reconnecting = !1, this.backoff.reset(), this.emitReserved("reconnect", e);
  }
}
const it = {};
function Bt(n, e) {
  typeof n == "object" && (e = n, n = void 0), e = e || {};
  const t = va(n, e.path || "/socket.io"), r = t.source, s = t.id, i = t.path, o = it[s] && i in it[s].nsps, u = e.forceNew || e["force new connection"] || e.multiplex === !1 || o;
  let l;
  return u ? l = new Pn(r, e) : (it[s] || (it[s] = new Pn(r, e)), l = it[s]), t.query && !e.query && (e.query = t.queryKey), l.socket(t.path, e);
}
Object.assign(Bt, {
  Manager: Pn,
  Socket: Ns,
  io: Bt,
  connect: Bt
});
class Ca {
  constructor(e, t, r, s) {
    xe(this, "socket_port");
    xe(this, "host");
    xe(this, "port");
    xe(this, "protocol");
    xe(this, "url");
    xe(this, "site_name");
    xe(this, "socket");
    var i, o;
    if (this.socket_port = r != null ? r : "9000", this.host = (i = window.location) == null ? void 0 : i.hostname, this.port = (o = window.location) != null && o.port ? `:${this.socket_port}` : "", this.protocol = this.port ? "http" : "https", e) {
      let u = new URL(e);
      u.port = "", r ? (u.port = r, this.url = u.toString()) : this.url = u.toString();
    } else
      this.url = `${this.protocol}://${this.host}${this.port}/`;
    t && (this.url = `${this.url}${t}`), this.site_name = t, this.socket = Bt(`${this.url}`, {
      withCredentials: !0,
      secure: this.protocol === "https",
      extraHeaders: s && s.useToken === !0 ? {
        Authorization: `${s.type} ${s.token}`
      } : {}
    });
  }
}
var Ps = { exports: {} }, ot = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Jr;
function Aa() {
  if (Jr)
    return ot;
  Jr = 1;
  var n = qe, e = Symbol.for("react.element"), t = Symbol.for("react.fragment"), r = Object.prototype.hasOwnProperty, s = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, i = { key: !0, ref: !0, __self: !0, __source: !0 };
  function o(u, l, a) {
    var h, f = {}, p = null, m = null;
    a !== void 0 && (p = "" + a), l.key !== void 0 && (p = "" + l.key), l.ref !== void 0 && (m = l.ref);
    for (h in l)
      r.call(l, h) && !i.hasOwnProperty(h) && (f[h] = l[h]);
    if (u && u.defaultProps)
      for (h in l = u.defaultProps, l)
        f[h] === void 0 && (f[h] = l[h]);
    return { $$typeof: e, type: u, key: p, ref: m, props: f, _owner: s.current };
  }
  return ot.Fragment = t, ot.jsx = o, ot.jsxs = o, ot;
}
var at = {};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Yr;
function Da() {
  return Yr || (Yr = 1, process.env.NODE_ENV !== "production" && function() {
    var n = qe, e = Symbol.for("react.element"), t = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), s = Symbol.for("react.strict_mode"), i = Symbol.for("react.profiler"), o = Symbol.for("react.provider"), u = Symbol.for("react.context"), l = Symbol.for("react.forward_ref"), a = Symbol.for("react.suspense"), h = Symbol.for("react.suspense_list"), f = Symbol.for("react.memo"), p = Symbol.for("react.lazy"), m = Symbol.for("react.offscreen"), g = Symbol.iterator, b = "@@iterator";
    function E(c) {
      if (c === null || typeof c != "object")
        return null;
      var d = g && c[g] || c[b];
      return typeof d == "function" ? d : null;
    }
    var _ = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function S(c) {
      {
        for (var d = arguments.length, v = new Array(d > 1 ? d - 1 : 0), w = 1; w < d; w++)
          v[w - 1] = arguments[w];
        k("error", c, v);
      }
    }
    function k(c, d, v) {
      {
        var w = _.ReactDebugCurrentFrame, A = w.getStackAddendum();
        A !== "" && (d += "%s", v = v.concat([A]));
        var q = v.map(function(x) {
          return String(x);
        });
        q.unshift("Warning: " + d), Function.prototype.apply.call(console[c], console, q);
      }
    }
    var y = !1, M = !1, T = !1, V = !1, D = !1, j;
    j = Symbol.for("react.module.reference");
    function L(c) {
      return !!(typeof c == "string" || typeof c == "function" || c === r || c === i || D || c === s || c === a || c === h || V || c === m || y || M || T || typeof c == "object" && c !== null && (c.$$typeof === p || c.$$typeof === f || c.$$typeof === o || c.$$typeof === u || c.$$typeof === l || c.$$typeof === j || c.getModuleId !== void 0));
    }
    function Q(c, d, v) {
      var w = c.displayName;
      if (w)
        return w;
      var A = d.displayName || d.name || "";
      return A !== "" ? v + "(" + A + ")" : v;
    }
    function ne(c) {
      return c.displayName || "Context";
    }
    function G(c) {
      if (c == null)
        return null;
      if (typeof c.tag == "number" && S("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), typeof c == "function")
        return c.displayName || c.name || null;
      if (typeof c == "string")
        return c;
      switch (c) {
        case r:
          return "Fragment";
        case t:
          return "Portal";
        case i:
          return "Profiler";
        case s:
          return "StrictMode";
        case a:
          return "Suspense";
        case h:
          return "SuspenseList";
      }
      if (typeof c == "object")
        switch (c.$$typeof) {
          case u:
            var d = c;
            return ne(d) + ".Consumer";
          case o:
            var v = c;
            return ne(v._context) + ".Provider";
          case l:
            return Q(c, c.render, "ForwardRef");
          case f:
            var w = c.displayName || null;
            return w !== null ? w : G(c.type) || "Memo";
          case p: {
            var A = c, q = A._payload, x = A._init;
            try {
              return G(x(q));
            } catch {
              return null;
            }
          }
        }
      return null;
    }
    var F = Object.assign, Le = 0, Qe, Ze, be, et, yt, we, Ee;
    function Ne() {
    }
    Ne.__reactDisabledLog = !0;
    function mt() {
      {
        if (Le === 0) {
          Qe = console.log, Ze = console.info, be = console.warn, et = console.error, yt = console.group, we = console.groupCollapsed, Ee = console.groupEnd;
          var c = {
            configurable: !0,
            enumerable: !0,
            value: Ne,
            writable: !0
          };
          Object.defineProperties(console, {
            info: c,
            log: c,
            warn: c,
            error: c,
            group: c,
            groupCollapsed: c,
            groupEnd: c
          });
        }
        Le++;
      }
    }
    function Ie() {
      {
        if (Le--, Le === 0) {
          var c = {
            configurable: !0,
            enumerable: !0,
            writable: !0
          };
          Object.defineProperties(console, {
            log: F({}, c, {
              value: Qe
            }),
            info: F({}, c, {
              value: Ze
            }),
            warn: F({}, c, {
              value: be
            }),
            error: F({}, c, {
              value: et
            }),
            group: F({}, c, {
              value: yt
            }),
            groupCollapsed: F({}, c, {
              value: we
            }),
            groupEnd: F({}, c, {
              value: Ee
            })
          });
        }
        Le < 0 && S("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
      }
    }
    var Ve = _.ReactCurrentDispatcher, je;
    function $e(c, d, v) {
      {
        if (je === void 0)
          try {
            throw Error();
          } catch (A) {
            var w = A.stack.trim().match(/\n( *(at )?)/);
            je = w && w[1] || "";
          }
        return `
` + je + c;
      }
    }
    var tt = !1, ve;
    {
      var gt = typeof WeakMap == "function" ? WeakMap : Map;
      ve = new gt();
    }
    function N(c, d) {
      if (!c || tt)
        return "";
      {
        var v = ve.get(c);
        if (v !== void 0)
          return v;
      }
      var w;
      tt = !0;
      var A = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      var q;
      q = Ve.current, Ve.current = null, mt();
      try {
        if (d) {
          var x = function() {
            throw Error();
          };
          if (Object.defineProperty(x.prototype, "props", {
            set: function() {
              throw Error();
            }
          }), typeof Reflect == "object" && Reflect.construct) {
            try {
              Reflect.construct(x, []);
            } catch (Se) {
              w = Se;
            }
            Reflect.construct(c, [], x);
          } else {
            try {
              x.call();
            } catch (Se) {
              w = Se;
            }
            c.call(x.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (Se) {
            w = Se;
          }
          c();
        }
      } catch (Se) {
        if (Se && w && typeof Se.stack == "string") {
          for (var R = Se.stack.split(`
`), se = w.stack.split(`
`), W = R.length - 1, Y = se.length - 1; W >= 1 && Y >= 0 && R[W] !== se[Y]; )
            Y--;
          for (; W >= 1 && Y >= 0; W--, Y--)
            if (R[W] !== se[Y]) {
              if (W !== 1 || Y !== 1)
                do
                  if (W--, Y--, Y < 0 || R[W] !== se[Y]) {
                    var le = `
` + R[W].replace(" at new ", " at ");
                    return c.displayName && le.includes("<anonymous>") && (le = le.replace("<anonymous>", c.displayName)), typeof c == "function" && ve.set(c, le), le;
                  }
                while (W >= 1 && Y >= 0);
              break;
            }
        }
      } finally {
        tt = !1, Ve.current = q, Ie(), Error.prepareStackTrace = A;
      }
      var Je = c ? c.displayName || c.name : "", rr = Je ? $e(Je) : "";
      return typeof c == "function" && ve.set(c, rr), rr;
    }
    function U(c, d, v) {
      return N(c, !1);
    }
    function X(c) {
      var d = c.prototype;
      return !!(d && d.isReactComponent);
    }
    function I(c, d, v) {
      if (c == null)
        return "";
      if (typeof c == "function")
        return N(c, X(c));
      if (typeof c == "string")
        return $e(c);
      switch (c) {
        case a:
          return $e("Suspense");
        case h:
          return $e("SuspenseList");
      }
      if (typeof c == "object")
        switch (c.$$typeof) {
          case l:
            return U(c.render);
          case f:
            return I(c.type, d, v);
          case p: {
            var w = c, A = w._payload, q = w._init;
            try {
              return I(q(A), d, v);
            } catch {
            }
          }
        }
      return "";
    }
    var re = Object.prototype.hasOwnProperty, Re = {}, H = _.ReactDebugCurrentFrame;
    function J(c) {
      if (c) {
        var d = c._owner, v = I(c.type, c._source, d ? d.type : null);
        H.setExtraStackFrame(v);
      } else
        H.setExtraStackFrame(null);
    }
    function de(c, d, v, w, A) {
      {
        var q = Function.call.bind(re);
        for (var x in c)
          if (q(c, x)) {
            var R = void 0;
            try {
              if (typeof c[x] != "function") {
                var se = Error((w || "React class") + ": " + v + " type `" + x + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof c[x] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                throw se.name = "Invariant Violation", se;
              }
              R = c[x](d, x, w, v, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
            } catch (W) {
              R = W;
            }
            R && !(R instanceof Error) && (J(A), S("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", w || "React class", v, x, typeof R), J(null)), R instanceof Error && !(R.message in Re) && (Re[R.message] = !0, J(A), S("Failed %s type: %s", v, R.message), J(null));
          }
      }
    }
    var _t = Array.isArray;
    function Me(c) {
      return _t(c);
    }
    function bt(c) {
      {
        var d = typeof Symbol == "function" && Symbol.toStringTag, v = d && c[Symbol.toStringTag] || c.constructor.name || "Object";
        return v;
      }
    }
    function ie(c) {
      try {
        return ce(c), !1;
      } catch {
        return !0;
      }
    }
    function ce(c) {
      return "" + c;
    }
    function We(c) {
      if (ie(c))
        return S("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.", bt(c)), ce(c);
    }
    var Pe = _.ReactCurrentOwner, nt = {
      key: !0,
      ref: !0,
      __self: !0,
      __source: !0
    }, Kn, Gn, Wt;
    Wt = {};
    function Us(c) {
      if (re.call(c, "ref")) {
        var d = Object.getOwnPropertyDescriptor(c, "ref").get;
        if (d && d.isReactWarning)
          return !1;
      }
      return c.ref !== void 0;
    }
    function qs(c) {
      if (re.call(c, "key")) {
        var d = Object.getOwnPropertyDescriptor(c, "key").get;
        if (d && d.isReactWarning)
          return !1;
      }
      return c.key !== void 0;
    }
    function Is(c, d) {
      if (typeof c.ref == "string" && Pe.current && d && Pe.current.stateNode !== d) {
        var v = G(Pe.current.type);
        Wt[v] || (S('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', G(Pe.current.type), c.ref), Wt[v] = !0);
      }
    }
    function Vs(c, d) {
      {
        var v = function() {
          Kn || (Kn = !0, S("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", d));
        };
        v.isReactWarning = !0, Object.defineProperty(c, "key", {
          get: v,
          configurable: !0
        });
      }
    }
    function js(c, d) {
      {
        var v = function() {
          Gn || (Gn = !0, S("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", d));
        };
        v.isReactWarning = !0, Object.defineProperty(c, "ref", {
          get: v,
          configurable: !0
        });
      }
    }
    var $s = function(c, d, v, w, A, q, x) {
      var R = {
        $$typeof: e,
        type: c,
        key: d,
        ref: v,
        props: x,
        _owner: q
      };
      return R._store = {}, Object.defineProperty(R._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: !1
      }), Object.defineProperty(R, "_self", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: w
      }), Object.defineProperty(R, "_source", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: A
      }), Object.freeze && (Object.freeze(R.props), Object.freeze(R)), R;
    };
    function Ms(c, d, v, w, A) {
      {
        var q, x = {}, R = null, se = null;
        v !== void 0 && (We(v), R = "" + v), qs(d) && (We(d.key), R = "" + d.key), Us(d) && (se = d.ref, Is(d, A));
        for (q in d)
          re.call(d, q) && !nt.hasOwnProperty(q) && (x[q] = d[q]);
        if (c && c.defaultProps) {
          var W = c.defaultProps;
          for (q in W)
            x[q] === void 0 && (x[q] = W[q]);
        }
        if (R || se) {
          var Y = typeof c == "function" ? c.displayName || c.name || "Unknown" : c;
          R && Vs(x, Y), se && js(x, Y);
        }
        return $s(c, R, se, A, w, Pe.current, x);
      }
    }
    var Ht = _.ReactCurrentOwner, Xn = _.ReactDebugCurrentFrame;
    function He(c) {
      if (c) {
        var d = c._owner, v = I(c.type, c._source, d ? d.type : null);
        Xn.setExtraStackFrame(v);
      } else
        Xn.setExtraStackFrame(null);
    }
    var Jt;
    Jt = !1;
    function Yt(c) {
      return typeof c == "object" && c !== null && c.$$typeof === e;
    }
    function Qn() {
      {
        if (Ht.current) {
          var c = G(Ht.current.type);
          if (c)
            return `

Check the render method of \`` + c + "`.";
        }
        return "";
      }
    }
    function Ws(c) {
      {
        if (c !== void 0) {
          var d = c.fileName.replace(/^.*[\\\/]/, ""), v = c.lineNumber;
          return `

Check your code at ` + d + ":" + v + ".";
        }
        return "";
      }
    }
    var Zn = {};
    function Hs(c) {
      {
        var d = Qn();
        if (!d) {
          var v = typeof c == "string" ? c : c.displayName || c.name;
          v && (d = `

Check the top-level render call using <` + v + ">.");
        }
        return d;
      }
    }
    function er(c, d) {
      {
        if (!c._store || c._store.validated || c.key != null)
          return;
        c._store.validated = !0;
        var v = Hs(d);
        if (Zn[v])
          return;
        Zn[v] = !0;
        var w = "";
        c && c._owner && c._owner !== Ht.current && (w = " It was passed a child from " + G(c._owner.type) + "."), He(c), S('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', v, w), He(null);
      }
    }
    function tr(c, d) {
      {
        if (typeof c != "object")
          return;
        if (Me(c))
          for (var v = 0; v < c.length; v++) {
            var w = c[v];
            Yt(w) && er(w, d);
          }
        else if (Yt(c))
          c._store && (c._store.validated = !0);
        else if (c) {
          var A = E(c);
          if (typeof A == "function" && A !== c.entries)
            for (var q = A.call(c), x; !(x = q.next()).done; )
              Yt(x.value) && er(x.value, d);
        }
      }
    }
    function Js(c) {
      {
        var d = c.type;
        if (d == null || typeof d == "string")
          return;
        var v;
        if (typeof d == "function")
          v = d.propTypes;
        else if (typeof d == "object" && (d.$$typeof === l || d.$$typeof === f))
          v = d.propTypes;
        else
          return;
        if (v) {
          var w = G(d);
          de(v, c.props, "prop", w, c);
        } else if (d.PropTypes !== void 0 && !Jt) {
          Jt = !0;
          var A = G(d);
          S("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", A || "Unknown");
        }
        typeof d.getDefaultProps == "function" && !d.getDefaultProps.isReactClassApproved && S("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
      }
    }
    function Ys(c) {
      {
        for (var d = Object.keys(c.props), v = 0; v < d.length; v++) {
          var w = d[v];
          if (w !== "children" && w !== "key") {
            He(c), S("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", w), He(null);
            break;
          }
        }
        c.ref !== null && (He(c), S("Invalid attribute `ref` supplied to `React.Fragment`."), He(null));
      }
    }
    function nr(c, d, v, w, A, q) {
      {
        var x = L(c);
        if (!x) {
          var R = "";
          (c === void 0 || typeof c == "object" && c !== null && Object.keys(c).length === 0) && (R += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
          var se = Ws(A);
          se ? R += se : R += Qn();
          var W;
          c === null ? W = "null" : Me(c) ? W = "array" : c !== void 0 && c.$$typeof === e ? (W = "<" + (G(c.type) || "Unknown") + " />", R = " Did you accidentally export a JSX literal instead of a component?") : W = typeof c, S("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", W, R);
        }
        var Y = Ms(c, d, v, A, q);
        if (Y == null)
          return Y;
        if (x) {
          var le = d.children;
          if (le !== void 0)
            if (w)
              if (Me(le)) {
                for (var Je = 0; Je < le.length; Je++)
                  tr(le[Je], c);
                Object.freeze && Object.freeze(le);
              } else
                S("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
            else
              tr(le, c);
        }
        return c === r ? Ys(Y) : Js(Y), Y;
      }
    }
    function zs(c, d, v) {
      return nr(c, d, v, !0);
    }
    function Ks(c, d, v) {
      return nr(c, d, v, !1);
    }
    var Gs = Ks, Xs = zs;
    at.Fragment = r, at.jsx = Gs, at.jsxs = Xs;
  }()), at;
}
(function(n) {
  process.env.NODE_ENV === "production" ? n.exports = Aa() : n.exports = Da();
})(Ps);
const ka = Ps.exports.jsx, te = zr(null), Ua = ({
  url: n = "",
  tokenParams: e,
  socketPort: t,
  siteName: r,
  enableSocket: s = !0,
  children: i
}) => {
  const o = Kr(() => {
    const u = new oo.FrappeApp(n, e);
    return {
      url: n,
      tokenParams: e,
      app: u,
      auth: u.auth(),
      db: u.db(),
      call: u.call(),
      file: u.file(),
      socket: s ? new Ca(n, r, t, e).socket : void 0,
      enableSocket: s,
      socketPort: t
    };
  }, [n, e, t, s]);
  return /* @__PURE__ */ ka(te.Provider, {
    value: o,
    children: i
  });
}, qa = (n) => {
  const {
    url: e,
    auth: t,
    tokenParams: r
  } = ee(te), [s, i] = P(), o = $(() => {
    const g = document.cookie.split(";").find((b) => b.trim().startsWith("user_id="));
    if (g) {
      const b = g.split("=")[1];
      i(b && b !== "Guest" ? b : null);
    } else
      i(null);
  }, []);
  Ge(() => {
    r && r.useToken ? i(null) : o();
  }, []);
  const {
    data: u,
    error: l,
    isLoading: a,
    isValidating: h,
    mutate: f
  } = vt(() => r && r.useToken || s ? `${e}/api/method/frappe.auth.get_logged_user` : null, () => t.getLoggedInUser(), {
    onError: () => {
      i(null);
    },
    shouldRetryOnError: !1,
    revalidateOnFocus: !1,
    ...n
  }), p = $(async (g, b) => t.loginWithUsernamePassword({
    username: g,
    password: b
  }).then((E) => {
    o();
  }), []), m = $(async () => t.logout().then(() => f(null)).then(() => i(null)), []);
  return {
    isLoading: s === void 0 || a,
    currentUser: u,
    isValidating: h,
    error: l,
    login: p,
    logout: m,
    updateCurrentUser: f,
    getUserCookie: o
  };
}, Bs = (n, e, t) => {
  let r = `${e}/api/resource/`;
  return t ? r += `${n}/${t}` : r += `${n}`, r;
}, Ia = (n, e, t, r) => {
  const {
    url: s,
    db: i
  } = ee(te);
  return {
    ...vt(t === void 0 ? Bs(n, s, e) : t, () => i.getDoc(n, e), r)
  };
}, La = (n) => {
  var t, r, s;
  let e = "";
  if (n != null && n.fields && (e += "fields=" + JSON.stringify(n == null ? void 0 : n.fields) + "&"), n != null && n.filters && (e += "filters=" + JSON.stringify(n == null ? void 0 : n.filters) + "&"), n != null && n.orFilters && (e += "or_filters=" + JSON.stringify(n == null ? void 0 : n.orFilters) + "&"), n != null && n.limit_start && (e += "limit_start=" + JSON.stringify(n == null ? void 0 : n.limit_start) + "&"), n != null && n.limit && (e += "limit=" + JSON.stringify(n == null ? void 0 : n.limit) + "&"), n != null && n.groupBy && (e += "group_by=" + String(n.groupBy) + "&"), n != null && n.orderBy) {
    const i = `${String((t = n.orderBy) == null ? void 0 : t.field)} ${(s = (r = n.orderBy) == null ? void 0 : r.order) != null ? s : "asc"}`;
    e += "order_by=" + i + "&";
  }
  return n != null && n.asDict && (e += "as_dict=" + n.asDict), e;
}, Va = (n, e, t, r) => {
  const {
    url: s,
    db: i
  } = ee(te);
  return {
    ...vt(t === void 0 ? `${Bs(n, s)}?${La(e)}` : t, () => i.getDocList(n, e), r)
  };
}, ja = () => {
  const {
    db: n
  } = ee(te), [e, t] = P(!1), [r, s] = P(null), [i, o] = P(!1), u = $(() => {
    t(!1), s(null), o(!1);
  }, []);
  return {
    createDoc: $(async (a, h) => (s(null), o(!1), t(!0), n.createDoc(a, h).then((f) => (t(!1), o(!0), f)).catch((f) => {
      throw t(!1), o(!1), s(f), f;
    })), []),
    loading: e,
    error: r,
    isCompleted: i,
    reset: u
  };
}, $a = () => {
  const {
    db: n
  } = ee(te), [e, t] = P(!1), [r, s] = P(null), [i, o] = P(!1), u = $(() => {
    t(!1), s(null), o(!1);
  }, []);
  return {
    updateDoc: $(async (a, h, f) => (s(null), o(!1), t(!0), n.updateDoc(a, h, f).then((p) => (t(!1), o(!0), p)).catch((p) => {
      throw t(!1), o(!1), s(p), p;
    })), []),
    loading: e,
    error: r,
    reset: u,
    isCompleted: i
  };
}, Ma = () => {
  const {
    db: n
  } = ee(te), [e, t] = P(!1), [r, s] = P(null), [i, o] = P(!1), u = $(() => {
    t(!1), s(null), o(!1);
  }, []);
  return {
    deleteDoc: $(async (a, h) => (s(null), o(!1), t(!0), n.deleteDoc(a, h).then((f) => (t(!1), o(!0), f)).catch((f) => {
      throw t(!1), o(!1), s(f), f;
    })), []),
    loading: e,
    error: r,
    reset: u,
    isCompleted: i
  };
};
function Fs(n) {
  const e = [];
  for (let t in n)
    e.push(encodeURIComponent(t) + "=" + encodeURIComponent(n[t]));
  return e.join("&");
}
const Wa = (n, e, t = !1, r = !1, s, i) => {
  const {
    url: o,
    db: u
  } = ee(te);
  return {
    ...vt(s === void 0 ? (() => {
      const h = Fs(t ? {
        doctype: n,
        filters: e != null ? e : [],
        cache: t,
        debug: r
      } : {
        doctype: n,
        filters: e != null ? e : [],
        debug: r
      });
      return `${o}/api/method/frappe.client.get_count?${h}`;
    })() : s, () => u.getCount(n, e, t, r), i)
  };
}, Na = (n, e, t, r) => {
  const {
    call: s
  } = ee(te), i = Fs(e != null ? e : {}), o = `${n}?${i}`;
  return {
    ...vt(t === void 0 ? o : t, () => s.get(n, e), r)
  };
}, Ha = (n) => {
  const {
    call: e
  } = ee(te), [t, r] = P(null), [s, i] = P(!1), [o, u] = P(null), [l, a] = P(!1), h = $(() => {
    r(null), i(!1), u(null), a(!1);
  }, []);
  return {
    call: $(async (p) => (u(null), a(!1), i(!0), r(null), e.post(n, p).then((m) => (r(m), i(!1), a(!0), m)).catch((m) => {
      throw i(!1), a(!1), u(m), m;
    })), []),
    result: t,
    loading: s,
    error: o,
    reset: h,
    isCompleted: l
  };
}, Ja = (n) => {
  const {
    call: e
  } = ee(te), [t, r] = P(null), [s, i] = P(!1), [o, u] = P(null), [l, a] = P(!1), h = $(() => {
    r(null), i(!1), u(null), a(!1);
  }, []);
  return {
    call: $(async (p) => (u(null), a(!1), i(!0), r(null), e.put(n, p).then((m) => (r(m), i(!1), a(!0), m)).catch((m) => {
      throw i(!1), a(!1), u(m), m;
    })), []),
    result: t,
    loading: s,
    error: o,
    reset: h,
    isCompleted: l
  };
}, Ya = (n) => {
  const {
    call: e
  } = ee(te), [t, r] = P(null), [s, i] = P(!1), [o, u] = P(null), [l, a] = P(!1), h = $(() => {
    r(null), i(!1), u(null), a(!1);
  }, []);
  return {
    call: $(async (p) => (u(null), a(!1), i(!0), r(null), e.delete(n, p).then((m) => (r(m), i(!1), a(!0), m)).catch((m) => {
      throw i(!1), a(!1), u(m), m;
    })), []),
    result: t,
    loading: s,
    error: o,
    reset: h,
    isCompleted: l
  };
}, za = () => {
  const {
    file: n
  } = ee(te), [e, t] = P(0), [r, s] = P(!1), [i, o] = P(null), [u, l] = P(!1), a = $(async (f, p, m) => (h(), s(!0), n.uploadFile(f, p, (g, b) => t(Math.round(g / b * 100)), m).then((g) => (l(!0), t(100), s(!1), g.data.message)).catch((g) => {
    throw console.error(g), o(g), s(!1), g;
  })), []), h = $(() => {
    t(0), s(!1), o(null), l(!1);
  }, []);
  return {
    upload: a,
    progress: e,
    loading: r,
    isCompleted: u,
    error: i,
    reset: h
  };
}, Ka = (n, e, t = [], r = 20, s = 250) => {
  const i = Pa(e, s);
  return Na("frappe.desk.search.search_link", {
    doctype: n,
    page_length: r,
    txt: i,
    filters: JSON.stringify(t != null ? t : [])
  });
}, Pa = (n, e) => {
  const [t, r] = P(n);
  return Ge(() => {
    const s = setTimeout(() => {
      r(n);
    }, e);
    return () => {
      clearTimeout(s);
    };
  }, [n, e]), t;
}, Bn = (n, e) => {
  const {
    socket: t
  } = ee(te);
  Ge(() => {
    t === void 0 && console.warn("Socket is not enabled. Please enable socket in FrappeProvider.");
    let r = t == null ? void 0 : t.on(n, e);
    return () => {
      r == null || r.off(n);
    };
  }, [n, e]);
}, Ga = (n, e, t, r = !0) => {
  const {
    socket: s
  } = ee(te), [i, o] = P([]);
  Ge(() => (s === void 0 && console.warn("Socket is not enabled. Please enable socket in FrappeProvider."), s == null || s.emit("doc_subscribe", n, e), r && (s == null || s.emit("doc_open", n, e)), () => {
    s == null || s.emit("doc_unsubscribe", n, e), r && (s == null || s.emit("doc_close", n, e));
  }), [n, e, r]), Bn("doc_update", t);
  const u = $(() => {
    s == null || s.emit("doc_open", n, e);
  }, [n, e]), l = $(() => {
    s == null || s.emit("doc_close", n, e);
  }, [n, e]), a = $((h) => {
    h.doctype === n && h.docname === e && o(h.users);
  }, [n, e]);
  return Bn("doc_viewers", a), {
    viewers: i,
    emitDocOpen: u,
    emitDocClose: l
  };
}, Xa = (n, e) => {
  const {
    socket: t
  } = ee(te);
  Ge(() => (t === void 0 && console.warn("Socket is not enabled. Please enable socket in FrappeProvider."), t == null || t.emit("doctype_subscribe", n), () => {
    t == null || t.emit("doctype_unsubscribe", n);
  }), [n]), Bn("list_update", e);
};
export {
  te as FrappeContext,
  Ua as FrappeProvider,
  La as getDocListQueryString,
  Bs as getRequestURL,
  qa as useFrappeAuth,
  ja as useFrappeCreateDoc,
  Ya as useFrappeDeleteCall,
  Ma as useFrappeDeleteDoc,
  Xa as useFrappeDocTypeEventListener,
  Ga as useFrappeDocumentEventListener,
  Bn as useFrappeEventListener,
  za as useFrappeFileUpload,
  Na as useFrappeGetCall,
  Ia as useFrappeGetDoc,
  Wa as useFrappeGetDocCount,
  Va as useFrappeGetDocList,
  Ha as useFrappePostCall,
  Ja as useFrappePutCall,
  $a as useFrappeUpdateDoc,
  vt as useSWR,
  No as useSWRConfig,
  Ka as useSearch
};
